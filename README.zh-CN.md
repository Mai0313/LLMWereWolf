<div align="center" markdown="1">

# LLM ç‹¼äººæ€ ğŸº

[![PyPI version](https://img.shields.io/pypi/v/llm_werewolf.svg)](https://pypi.org/project/llm_werewolf/)
[![python](https://img.shields.io/badge/-Python_%7C_3.10%7C_3.11%7C_3.12%7C_3.13-blue?logo=python&logoColor=white)](https://www.python.org/downloads/source/)
[![uv](https://img.shields.io/badge/-uv_dependency_management-2C5F2D?logo=python&logoColor=white)](https://docs.astral.sh/uv/)
[![Ruff](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/astral-sh/ruff/main/assets/badge/v2.json)](https://github.com/astral-sh/ruff)
[![Pydantic v2](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/pydantic/pydantic/main/docs/badge/v2.json)](https://docs.pydantic.dev/latest/contributing/#badges)
[![tests](https://github.com/Mai0313/LLMWereWolf/actions/workflows/test.yml/badge.svg)](https://github.com/Mai0313/LLMWereWolf/actions/workflows/test.yml)
[![code-quality](https://github.com/Mai0313/LLMWereWolf/actions/workflows/code-quality-check.yml/badge.svg)](https://github.com/Mai0313/LLMWereWolf/actions/workflows/code-quality-check.yml)
[![license](https://img.shields.io/badge/License-MIT-green.svg?labelColor=gray)](https://github.com/Mai0313/LLMWereWolf/tree/main?tab=License-1-ov-file)
[![PRs](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](https://github.com/Mai0313/LLMWereWolf/pulls)
[![contributors](https://img.shields.io/github/contributors/Mai0313/LLMWereWolf.svg)](https://github.com/Mai0313/LLMWereWolf/graphs/contributors)

</div>

ä¸€ä¸ªæ”¯æŒå¤šç§ LLM æ¨¡å‹çš„ AI ç‹¼äººæ€æ¸¸æˆï¼Œå…·æœ‰ç²¾ç¾çš„ç»ˆç«¯ç•Œé¢ (TUI)ã€‚

å…¶ä»–è¯­è¨€: [English](README.md) | [ç¹é«”ä¸­æ–‡](README.zh-TW.md) | [ç®€ä½“ä¸­æ–‡](README.zh-CN.md)

## ç‰¹è‰²åŠŸèƒ½

- ğŸ® **å®Œæ•´æ¸¸æˆé€»è¾‘**ï¼šåŒ…å« 20+ ç§è§’è‰²çš„å®Œæ•´ç‹¼äººæ€è§„åˆ™å®ç°
- ğŸ¤– **LLM æ•´åˆ**ï¼šç»Ÿä¸€çš„ä»£ç†ç•Œé¢ï¼Œè½»æ¾æ•´åˆä»»ä½• LLMï¼ˆOpenAIã€Anthropicã€DeepSeekã€æœ¬åœ°æ¨¡å‹ç­‰ï¼‰
- ğŸ–¥ï¸ **ç²¾ç¾ TUI**ï¼šä½¿ç”¨ Textual æ¡†æ¶çš„å®æ—¶æ¸¸æˆå¯è§†åŒ–ï¼Œæ”¯æŒäº¤äº’å¼ç»ˆç«¯ç•Œé¢
- ğŸ‘¤ **çœŸäººç©å®¶**ï¼šæ”¯æŒçœŸäººç©å®¶ä¸ AI æ··åˆæ¸¸æˆ
- âš™ï¸ **å¯é…ç½®**ï¼šé€šè¿‡ YAML é…ç½®æ–‡ä»¶çµæ´»è®¾ç½®ç©å®¶å’Œæ¸¸æˆå‚æ•°
- ğŸ“Š **äº‹ä»¶ç³»ç»Ÿ**ï¼šå®Œæ•´çš„äº‹ä»¶è®°å½•å’Œæ¸¸æˆçŠ¶æ€è¿½è¸ª
- ğŸ§ª **å……åˆ†æµ‹è¯•**ï¼šé«˜ä»£ç è¦†ç›–ç‡ä¸å®Œæ•´æµ‹è¯•å¥—ä»¶

## å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# å¤åˆ¶å­˜å‚¨åº“
git clone https://github.com/Mai0313/LLMWereWolf.git
cd LLMWereWolf

# å®‰è£…ä¾èµ–
uv sync
```

### æ‰§è¡Œæ¸¸æˆ

é¡¹ç›®æä¾›ä¸¤ç§æ‰§è¡Œæ¨¡å¼,é€šè¿‡ä¸åŒçš„å‘½ä»¤è¡Œå…¥å£æ¥é€‰æ‹©:

**TUI æ¨¡å¼ï¼ˆäº¤äº’å¼ç»ˆç«¯ç•Œé¢ï¼‰ï¼š**

```bash
# ä½¿ç”¨å†…ç½®æ¼”ç¤ºé…ç½®å¯åŠ¨ TUIï¼ˆä½¿ç”¨ demo ä»£ç†æµ‹è¯•ï¼‰
uv run llm-werewolf-tui configs/demo.yaml

# ä½¿ç”¨ LLM ç©å®¶é…ç½®ï¼ˆéœ€å…ˆè®¾ç½® API å¯†é’¥ï¼‰
uv run llm-werewolf-tui configs/players.yaml

# æ˜¾ç¤ºè°ƒè¯•é¢æ¿
uv run llm-werewolf-tui configs/demo.yaml --debug

# è‹¥å·²å…¨å±€å®‰è£…å¥—ä»¶
llm-werewolf-tui configs/demo.yaml

# ä½¿ç”¨ werewolf-tui åˆ«å
uv run werewolf-tui configs/demo.yaml
```

**Console æ¨¡å¼ï¼ˆçº¯æ–‡æœ¬æ—¥å¿—ï¼‰ï¼š**

```bash
# ä½¿ç”¨ Console æ¨¡å¼ï¼ˆè‡ªåŠ¨æ‰§è¡Œï¼‰
uv run llm-werewolf configs/demo.yaml

# æˆ–ä½¿ç”¨åˆ«å
uv run werewolf configs/demo.yaml
```

YAML é…ç½®æ–‡ä»¶é€‰é¡¹ï¼š

- `preset: <preset-name>` æŒ‡å®šè§’è‰²é¢„è®¾é…ç½®ï¼ˆå¦‚ `6-players`ã€`9-players`ã€`12-players`ã€`15-players`ã€`expert`ã€`chaos`ï¼‰
- `show_debug: true` æ˜¾ç¤º TUI è°ƒè¯•é¢æ¿ï¼ˆå¯è¢«å‘½ä»¤è¡Œ `--debug` å‚æ•°è¦†ç›–ï¼‰
- `players: [...]` å®šä¹‰ç©å®¶åˆ—è¡¨

### ç¯å¢ƒé…ç½®

åˆ›å»º `.env` æ–‡ä»¶é…ç½® LLM API å¯†é’¥ï¼š

```bash
# OpenAI
OPENAI_API_KEY=sk-...

# Anthropic
ANTHROPIC_API_KEY=sk-ant-...

# DeepSeek
DEEPSEEK_API_KEY=sk-...

# xAI (Grok)
XAI_API_KEY=xai-...

# æœ¬åœ°æ¨¡å‹ï¼ˆOllama ç­‰ï¼‰ä¸éœ€è¦ API å¯†é’¥
# åªéœ€åœ¨ YAML ä¸­è®¾ç½® base_url å³å¯
```

## æ”¯æŒçš„è§’è‰²

### ç‹¼äººé˜µè¥ ğŸº

- **æ™®é€šç‹¼äºº (Werewolf)**ï¼šåœ¨å¤œæ™šé›†ä½“æ€äººçš„æ ‡å‡†ç‹¼äºº
- **ç‹¼ç‹ (AlphaWolf)**ï¼šè¢«æ·˜æ±°æ—¶å¯ä»¥å¼€æªå¸¦èµ°ä¸€äºº
- **ç™½ç‹¼ç‹ (WhiteWolf)**ï¼šæ¯éš”ä¸€æ™šå¯ä»¥æ€æ­»å¦ä¸€ä¸ªç‹¼äººï¼Œæˆä¸ºç‹¬ç‹¼
- **ç‹¼ç¾äºº (WolfBeauty)**ï¼šé­…æƒ‘ä¸€åç©å®¶ï¼Œç‹¼ç¾äººæ­»äº¡æ—¶è¯¥ç©å®¶åŒæ­»
- **å®ˆå«ç‹¼ (GuardianWolf)**ï¼šæ¯æ™šå¯ä»¥ä¿æŠ¤ä¸€åç‹¼äºº
- **éšç‹¼ (HiddenWolf)**ï¼šé¢„è¨€å®¶æŸ¥éªŒæ˜¾ç¤ºä¸ºæ‘æ°‘
- **è¡€æœˆä½¿å¾’ (BloodMoonApostle)**ï¼šå¯ä»¥è½¬åŒ–ä¸ºç‹¼äºº
- **æ¢¦é­‡ç‹¼ (NightmareWolf)**ï¼šå¯ä»¥å°é”ç©å®¶çš„èƒ½åŠ›

### æ‘æ°‘é˜µè¥ ğŸ‘¥

- **å¹³æ°‘ (Villager)**ï¼šæ²¡æœ‰ç‰¹æ®Šèƒ½åŠ›çš„æ™®é€šæ‘æ°‘
- **é¢„è¨€å®¶ (Seer)**ï¼šæ¯æ™šå¯ä»¥æŸ¥éªŒä¸€åç©å®¶çš„èº«ä»½ï¼ˆç‹¼äººæˆ–æ‘æ°‘ï¼‰
- **å¥³å·« (Witch)**ï¼šæ‹¥æœ‰è§£è¯å’Œæ¯’è¯ï¼ˆå„ä¸€æ¬¡æ€§ä½¿ç”¨ï¼‰
- **çŒäºº (Hunter)**ï¼šè¢«æ·˜æ±°æ—¶å¯ä»¥å¼€æªå¸¦èµ°ä¸€äºº
- **å®ˆå« (Guard)**ï¼šæ¯æ™šå¯ä»¥ä¿æŠ¤ä¸€åç©å®¶å…äºç‹¼äººæ”»å‡»
- **ç™½ç—´ (Idiot)**ï¼šè¢«æŠ•ç¥¨æ·˜æ±°æ—¶ç¿»ç‰Œå­˜æ´»ä½†å¤±å»æŠ•ç¥¨æƒ
- **é•¿è€ (Elder)**ï¼šéœ€è¦ä¸¤æ¬¡æ”»å‡»æ‰ä¼šæ­»äº¡
- **éª‘å£« (Knight)**ï¼šæ¯å±€å¯ä»¥ä¸ä¸€åç©å®¶å†³æ–—ä¸€æ¬¡
- **é­”æœ¯å¸ˆ (Magician)**ï¼šå¯ä»¥äº¤æ¢ä¸¤åç©å®¶çš„è§’è‰²ä¸€æ¬¡
- **ä¸˜æ¯”ç‰¹ (Cupid)**ï¼šç¬¬ä¸€æ™šå°†ä¸¤åç©å®¶è¿ç»“ä¸ºæ‹äºº
- **ä¹Œé¸¦ (Raven)**ï¼šæ ‡è®°ä¸€åç©å®¶è·å¾—é¢å¤–æŠ•ç¥¨
- **å®ˆå¢“äºº (GraveyardKeeper)**ï¼šå¯ä»¥æŸ¥éªŒæ­»äº¡ç©å®¶çš„èº«ä»½

### ä¸­ç«‹è§’è‰² ğŸ‘»

- **ç›—è´¼ (Thief)**ï¼šç¬¬ä¸€æ™šå¯ä»¥ä»ä¸¤å¼ é¢å¤–è§’è‰²å¡ä¸­é€‰æ‹©ä¸€ä¸ª
- **æ‹äºº (Lover)**ï¼šç”±ä¸˜æ¯”ç‰¹è¿ç»“ï¼Œä¸€äººæ­»äº¡å¦ä¸€äººæ®‰æƒ…

## é…ç½®

### ä½¿ç”¨é¢„è®¾é…ç½®

åœ¨é…ç½®æ–‡ä»¶ä¸­è°ƒæ•´ `preset` å­—æ®µå³å¯åº”ç”¨å†…ç½®è§’è‰²ç»„åˆï¼Œå¯é€‰é¡¹ï¼š

- `6-players`ï¼šæ–°æ‰‹å±€ï¼ˆ6 äººï¼‰- 2 ç‹¼äºº + é¢„è¨€å®¶ã€å¥³å·«ã€2 å¹³æ°‘
- `9-players`ï¼šæ ‡å‡†å±€ï¼ˆ9 äººï¼‰- 2 ç‹¼äºº + é¢„è¨€å®¶ã€å¥³å·«ã€çŒäººã€å®ˆå«ã€3 å¹³æ°‘
- `12-players`ï¼šè¿›é˜¶å±€ï¼ˆ12 äººï¼‰- 3 ç‹¼äººï¼ˆå«ç‹¼ç‹ï¼‰+ é¢„è¨€å®¶ã€å¥³å·«ã€çŒäººã€å®ˆå«ã€ä¸˜æ¯”ç‰¹ã€ç™½ç—´ã€3 å¹³æ°‘
- `15-players`ï¼šå®Œæ•´å±€ï¼ˆ15 äººï¼‰- 4 ç‹¼äººï¼ˆå«ç‹¼ç‹ã€ç™½ç‹¼ç‹ï¼‰+ é¢„è¨€å®¶ã€å¥³å·«ã€çŒäººã€å®ˆå«ã€ä¸˜æ¯”ç‰¹ã€ç™½ç—´ã€é•¿è€ã€ä¹Œé¸¦ã€3 å¹³æ°‘
- `expert`ï¼šä¸“å®¶é…ç½®ï¼ˆ12 äººï¼‰- å¤æ‚è§’è‰²ç»„åˆï¼ŒåŒ…å«å¤šç§ç‰¹æ®Šç‹¼äºº
- `chaos`ï¼šæ··ä¹±è§’è‰²ç»„åˆï¼ˆ10 äººï¼‰- ä¸å¸¸è§çš„è§’è‰²æ­é…ï¼Œé€‚åˆè¿›é˜¶ç©å®¶

### è‡ªå®šä¹‰é…ç½®

#### ç©å®¶é…ç½®æ–‡ä»¶

```bash
# ç”±æ¼”ç¤ºé…ç½®å¼€å§‹ï¼ˆå…¨éƒ¨ä¸º demo ä»£ç†ï¼‰
cp configs/demo.yaml my-game.yaml

# æˆ–ç”±æ”¯æŒ LLM çš„æ ·æ¿å¼€å§‹
cp configs/players.yaml my-game.yaml

# ç¼–è¾‘é…ç½®æ–‡ä»¶
# configs/players.yaml å«æœ‰å­—æ®µè¯´æ˜ä¸èŒƒä¾‹
```

èŒƒä¾‹ `my-game.yaml`ï¼š

```yaml
preset: 6-players        # é€‰æ‹©é¢„è®¾é…ç½®
show_debug: false        # æ˜¯å¦æ˜¾ç¤ºè°ƒè¯•é¢æ¿ï¼ˆTUI æ¨¡å¼é€‚ç”¨ï¼‰

players:
  - name: GPT-4 ä¾¦æ¢
    model: gpt-4o
    base_url: https://api.openai.com/v1
    api_key_env: OPENAI_API_KEY
    temperature: 0.7
    max_tokens: 500

  - name: Claude åˆ†æå¸ˆ
    model: claude-3-5-sonnet-20241022
    base_url: https://api.anthropic.com/v1
    api_key_env: ANTHROPIC_API_KEY
    temperature: 0.7
    max_tokens: 500

  - name: DeepSeek æ€è€ƒè€…
    model: deepseek-reasoner
    base_url: https://api.deepseek.com/v1
    api_key_env: DEEPSEEK_API_KEY
    temperature: 0.7
    max_tokens: 500

  - name: äººç±»ç©å®¶
    model: human          # çœŸäººç©å®¶

  - name: æœ¬åœ° Llama
    model: llama3
    base_url: http://localhost:11434/v1
    # æœ¬åœ°æ¨¡å‹ä¸éœ€è¦ api_key_env

  - name: æµ‹è¯•æœºå™¨äºº
    model: demo           # æµ‹è¯•ç”¨çš„ç®€å•ä»£ç†
```

**é…ç½®è¯´æ˜ï¼š**

- `preset`ï¼šå¿…å¡«ï¼Œå†³å®šæ¸¸æˆçš„è§’è‰²é…ç½®å’Œç©å®¶æ•°é‡
- `show_debug`ï¼šé€‰å¡«ï¼Œé»˜è®¤ä¸º `false`ï¼Œç”¨äº TUI æ¨¡å¼æ˜¾ç¤ºè°ƒè¯•é¢æ¿
- `players`ï¼šå¿…å¡«ï¼Œç©å®¶åˆ—è¡¨ï¼Œæ•°é‡å¿…é¡»ä¸ preset çš„ `num_players` ä¸€è‡´

**ç©å®¶é…ç½®å­—æ®µï¼š**

- `name`ï¼šç©å®¶æ˜¾ç¤ºåç§°
- `model`ï¼šæ¨¡å‹ç±»å‹
  - `human`ï¼šçœŸäººç©å®¶ï¼ˆé€šè¿‡ç»ˆç«¯è¾“å…¥ï¼‰
  - `demo`ï¼šæµ‹è¯•ç”¨ç®€å•ä»£ç†ï¼ˆéšæœºå›åº”ï¼‰
  - LLM æ¨¡å‹åç§°ï¼šå¦‚ `gpt-4o`ã€`claude-3-5-sonnet-20241022`ã€`llama3`
- `base_url`ï¼šAPI ç«¯ç‚¹ï¼ˆLLM æ¨¡å‹å¿…å¡«ï¼‰
- `api_key_env`ï¼šç¯å¢ƒå˜é‡åç§°ï¼ˆæœ‰éªŒè¯çš„ç«¯ç‚¹å¿…å¡«ï¼‰
- `temperature`ï¼šé€‰å¡«ï¼Œé»˜è®¤ 0.7
- `max_tokens`ï¼šé€‰å¡«ï¼Œé»˜è®¤ 500

**æ”¯æŒçš„æ¨¡å‹ç±»å‹ï¼š**

- **OpenAI å…¼å®¹ API**ï¼šä»»ä½•æ”¯æŒ OpenAI Chat Completions æ ¼å¼çš„æ¨¡å‹
- **çœŸäººç©å®¶**ï¼š`model: human`
- **æµ‹è¯•ä»£ç†**ï¼š`model: demo`

**æœ¬åœ°æ¨¡å‹èŒƒä¾‹ï¼š**

è‹¥ä½¿ç”¨ Ollama ç­‰æœ¬åœ°æ¨¡å‹ï¼Œå¯çœç•¥ `api_key_env`ï¼š

```yaml
  - name: Ollama Llama3
    model: llama3
    base_url: http://localhost:11434/v1
    temperature: 0.7
    max_tokens: 500
```

## ä»£ç†ç³»ç»Ÿ

### å†…ç½®ä»£ç†ç±»å‹

æœ¬é¡¹ç›®æä¾›ä¸‰ç§å†…ç½®ä»£ç†ç±»å‹ï¼š

1. **LLMAgent**ï¼šæ”¯æŒä»»ä½• OpenAI å…¼å®¹ API çš„ LLM æ¨¡å‹
2. **HumanAgent**ï¼šçœŸäººç©å®¶é€šè¿‡ç»ˆç«¯è¾“å…¥
3. **DemoAgent**ï¼šæµ‹è¯•ç”¨çš„ç®€å•ä»£ç†ï¼ˆéšæœºå›åº”ï¼‰

### é€šè¿‡ YAML é…ç½®ä½¿ç”¨ä»£ç†

æ¨èæ–¹å¼æ˜¯é€šè¿‡ YAML é…ç½®æ–‡ä»¶æ¥è®¾ç½®ä»£ç†ï¼ˆå‚è§[é…ç½®](#é…ç½®)ç« èŠ‚ï¼‰ã€‚

### ç¨‹åºåŒ–ä½¿ç”¨ä»£ç†

å¦‚æœéœ€è¦åœ¨ Python ä»£ç ä¸­ç›´æ¥åˆ›å»ºä»£ç†ï¼š

```python
from llm_werewolf.ai import LLMAgent, HumanAgent, DemoAgent, create_agent, PlayerConfig
from llm_werewolf.core import GameEngine
from llm_werewolf.config import get_preset_by_name

# æ–¹æ³• 1ï¼šç›´æ¥åˆ›å»ºä»£ç†å®ä¾‹
llm_agent = LLMAgent(
    model_name="gpt-4o",
    api_key="your-api-key",
    base_url="https://api.openai.com/v1",
    temperature=0.7,
    max_tokens=500,
)

human_agent = HumanAgent(model_name="human")
demo_agent = DemoAgent(model_name="demo")

# æ–¹æ³• 2ï¼šä»é…ç½®å¯¹è±¡åˆ›å»ºï¼ˆè‡ªåŠ¨ä»ç¯å¢ƒå˜é‡åŠ è½½ API å¯†é’¥ï¼‰
player_config = PlayerConfig(
    name="GPT-4 ç©å®¶",
    model="gpt-4o",
    base_url="https://api.openai.com/v1",
    api_key_env="OPENAI_API_KEY",
    temperature=0.7,
    max_tokens=500,
)
agent = create_agent(player_config)

# è®¾ç½®æ¸¸æˆ
game_config = get_preset_by_name("9-players")
engine = GameEngine(game_config)

players = [
    ("player_1", "GPT-4 ç©å®¶", llm_agent),
    ("player_2", "çœŸäººç©å®¶", human_agent),
    ("player_3", "æµ‹è¯•æœºå™¨äºº", demo_agent),
    # ... æ›´å¤šç©å®¶
]

roles = game_config.to_role_list()
engine.setup_game(players, roles)
result = engine.play_game()
```

### æ”¯æŒçš„ LLM æä¾›å•†

ç”±äºä½¿ç”¨ OpenAI å…¼å®¹ APIï¼Œä»¥ä¸‹æä¾›å•†éƒ½å¯ä»¥ä½¿ç”¨ï¼š

- **OpenAI**ï¼šGPT-4ã€GPT-4oã€GPT-3.5-turbo ç­‰
- **Anthropic**ï¼šClaude 3.5 Sonnetã€Claude 3 Opusã€Claude 3 Haiku ç­‰
- **DeepSeek**ï¼šDeepSeek-Reasonerã€DeepSeek-Chat ç­‰
- **xAI**ï¼šGrok ç³»åˆ—æ¨¡å‹
- **æœ¬åœ°æ¨¡å‹**ï¼šOllamaã€LM Studioã€vLLM ç­‰
- **å…¶ä»–å…¼å®¹ API**ï¼šä»»ä½•æ”¯æŒ OpenAI Chat Completions æ ¼å¼çš„æœåŠ¡

### å®ç°è‡ªå®šä¹‰ä»£ç†

è¦æ•´åˆè‡ªå®šä¹‰ LLM æä¾›å•†ï¼Œåªéœ€å®ç°ç®€å•çš„ä»£ç†åè®®ï¼š

```python
class MyCustomAgent:
    """è‡ªå®šä¹‰ä»£ç†å®ç°èŒƒä¾‹ã€‚"""

    def __init__(self, client: YourLLMClient) -> None:
        self.client = client
        self.model_name = "my-custom-model"
        self._history: list[dict[str, str]] = []

    def get_response(self, message: str) -> str:
        """è·å– LLM å›åº”ã€‚

        Args:
            message: ç”¨æˆ·ä¿¡æ¯æˆ–æ¸¸æˆæç¤º

        Returns:
            str: LLM çš„å›åº”
        """
        self._history.append({"role": "user", "content": message})
        reply = self.client.generate(message, history=self._history)
        self._history.append({"role": "assistant", "content": reply})
        return reply

    def reset(self) -> None:
        """å¯é€‰ï¼šåœ¨æ–°æ¸¸æˆå¼€å§‹å‰æ¸…ç©ºå¯¹è¯å†å²ã€‚"""
        self._history.clear()
```

**å¿…é¡»å®ç°çš„æ¥å£ï¼š**

- `model_name` (å±æ€§)ï¼šæ¨¡å‹åç§°å­—ç¬¦ä¸²
- `get_response(message: str) -> str` (æ–¹æ³•)ï¼šæ¥æ”¶æ¶ˆæ¯å¹¶è¿”å›å›åº”

**å¯é€‰å®ç°çš„æ–¹æ³•ï¼š**

- `reset()`ï¼šæ¸…é™¤ä»£ç†çš„å†…éƒ¨çŠ¶æ€ï¼ˆå¯¹è¯å†å²ç­‰ï¼‰
- `add_to_history(role: str, content: str)`ï¼šæ‰‹åŠ¨æ·»åŠ å¯¹è¯å†å²
- `get_history() -> list[dict[str, str]]`ï¼šè·å–å¯¹è¯å†å²

æ‚¨å¯ä»¥ç›´æ¥å°†è‡ªå®šä¹‰ä»£ç†ä¼ å…¥ `GameEngine.setup_game()`ã€‚

## TUI ç•Œé¢

TUI (Terminal User Interface) æä¾›ç°ä»£åŒ–ç»ˆç«¯ç•Œé¢çš„å®æ—¶æ¸¸æˆå¯è§†åŒ–ï¼Œä½¿ç”¨ [Textual](https://textual.textualize.io/) æ¡†æ¶æ„å»ºã€‚

### ç•Œé¢é¢„è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸº Werewolf Game                                                       AI-Powered Werewolf     â”‚
â”‚ q é€€å‡º  d åˆ‡æ¢è°ƒè¯•  n ä¸‹ä¸€æ­¥                                                    [00:02:34]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â”‚ â•­â”€â”€â”€â”€â”€ æ¸¸æˆçŠ¶æ€ â”€â”€â”€â”€â”€â•®                 â”‚                               â”‚
â”‚    ç©å®¶              â”‚ â”‚ ğŸŒ™ ç¬¬ 2 å›åˆ - å¤œæ™š â”‚                 â”‚    è°ƒè¯•ä¿¡æ¯                   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚ â”‚                     â”‚                 â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚ åå­—      æ¨¡å‹       â”‚ â”‚ ç©å®¶æ€»æ•°ï¼š 8/9      â”‚                 â”‚ ä¼šè¯ ID:                      â”‚
â”‚           çŠ¶æ€       â”‚ â”‚ ç‹¼äººï¼š     2        â”‚                 â”‚   ww_20251019_163022          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚ â”‚ æ‘æ°‘ï¼š     6        â”‚                 â”‚                               â”‚
â”‚ Alice     gpt-4o     â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                 â”‚ é…ç½®ï¼šplayers.yaml            â”‚
â”‚           âœ“ ğŸ›¡ï¸      â”‚                                          â”‚                               â”‚
â”‚ Bob       claude     â”‚                                          â”‚ ç©å®¶ï¼š9                       â”‚
â”‚           âœ“          â”‚                                          â”‚ AI: 7  çœŸäºº: 1  Demo: 1       â”‚
â”‚ Charlie   llama3     â”‚                                          â”‚                               â”‚
â”‚           âœ“          â”‚                                          â”‚ è§’è‰²ï¼š                        â”‚
â”‚ David     deepseek   â”‚ â•­â”€â”€â”€â”€ äº‹ä»¶ / å¯¹è¯ â”€â”€â”€â”€â•®                â”‚  - Werewolf x2                â”‚
â”‚           âœ“ â¤ï¸       â”‚ â”‚ [00:02:28] ğŸ® æ¸¸æˆå¼€å§‹â”‚                â”‚  - Seer x1                    â”‚
â”‚ Eve       grok       â”‚ â”‚ [00:02:29] â° é˜¶æ®µï¼šå¤œâ”‚                â”‚  - Witch x1                   â”‚
â”‚           âœ“ â¤ï¸       â”‚ â”‚ [00:02:30] ğŸº ç‹¼äººè®¨è®ºâ”‚                â”‚  - Hunter x1                  â”‚
â”‚ Frank     human      â”‚ â”‚            ç›®æ ‡       â”‚                â”‚  - Guard x1                   â”‚
â”‚           âœ“          â”‚ â”‚ [00:02:31] â° é˜¶æ®µï¼šç™½â”‚                â”‚  - Villager x3                â”‚
â”‚ Grace     claude     â”‚ â”‚ [00:02:32] ğŸ’€ Iris æ­»äº¡â”‚               â”‚                               â”‚
â”‚           âœ“          â”‚ â”‚ [00:02:33] ğŸ’¬ Aliceï¼š  â”‚               â”‚ å¤œæ™šè¶…æ—¶ï¼š60s                 â”‚
â”‚ Henry     demo       â”‚ â”‚            "æˆ‘è§‰å¾—Bob â”‚               â”‚ ç™½å¤©è¶…æ—¶ï¼š300s                â”‚
â”‚           âœ“          â”‚ â”‚            è¡Œä¸ºå¯ç–‘"  â”‚               â”‚ æŠ•ç¥¨è¶…æ—¶ï¼š60s                 â”‚
â”‚ Iris      demo       â”‚ â”‚ [00:02:34] ğŸ’¬ Bobï¼š    â”‚               â”‚                               â”‚
â”‚           âœ—          â”‚ â”‚            "æˆ‘æ˜¯æ‘æ°‘ï¼â”‚               â”‚ é”™è¯¯ï¼š0                       â”‚
â”‚                      â”‚ â”‚            Alice åœ¨è½¬ â”‚               â”‚                               â”‚
â”‚                      â”‚ â”‚            ç§»ç„¦ç‚¹"    â”‚               â”‚ æ¥æºï¼šYAML é…ç½®               â”‚
â”‚                      â”‚ â”‚ [00:02:35] ğŸ’¬ Charlie: â”‚               â”‚                               â”‚
â”‚                      â”‚ â”‚            "æ˜¨æ™šçš„æ­»äº¡â”‚               â”‚                               â”‚
â”‚                      â”‚ â”‚            æ¨¡å¼å¾ˆå¥‡æ€ª"â”‚               â”‚                               â”‚
â”‚                      â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯               â”‚                               â”‚
â”‚                      â”‚                                          â”‚                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é¢æ¿è¯´æ˜

#### ç©å®¶é¢æ¿ï¼ˆå·¦ä¾§ï¼‰

æ˜¾ç¤ºæ‰€æœ‰ç©å®¶çš„ä¿¡æ¯ï¼š

- **åå­—**ï¼šç©å®¶æ˜¾ç¤ºåç§°
- **æ¨¡å‹**ï¼šä½¿ç”¨çš„ AI æ¨¡å‹æˆ– `human`/`demo`
- **çŠ¶æ€æŒ‡ç¤ºå™¨**ï¼š
  - âœ“ï¼šå­˜æ´»
  - âœ—ï¼šæ­»äº¡
  - ğŸ›¡ï¸ï¼šè¢«å®ˆå«ä¿æŠ¤
  - â¤ï¸ï¼šæ‹äººå…³ç³»
  - â˜ ï¸ï¼šè¢«å¥³å·«ä¸‹æ¯’
  - ğŸ”´ï¼šè¢«ä¹Œé¸¦æ ‡è®°

#### æ¸¸æˆé¢æ¿ï¼ˆä¸­å¤®ä¸Šæ–¹ï¼‰

æ˜¾ç¤ºå½“å‰æ¸¸æˆçŠ¶æ€ï¼š

- **å›åˆä¸é˜¶æ®µ**ï¼š
  - ğŸŒ™ å¤œæ™šé˜¶æ®µ
  - â˜€ï¸ ç™½å¤©è®¨è®ºé˜¶æ®µ
  - ğŸ—³ï¸ æŠ•ç¥¨é˜¶æ®µ
  - ğŸ æ¸¸æˆç»“æŸ
- **ç©å®¶ç»Ÿè®¡**ï¼šæŒ‰é˜µè¥ç»Ÿè®¡å­˜æ´»ç©å®¶æ•°
- **æŠ•ç¥¨è®¡æ•°**ï¼ˆæŠ•ç¥¨é˜¶æ®µï¼‰ï¼šæ˜¾ç¤ºå„ç©å®¶å¾—ç¥¨æ•°

#### å¯¹è¯é¢æ¿ï¼ˆä¸­å¤®ä¸‹æ–¹ï¼‰

å¯æ»šåŠ¨çš„äº‹ä»¶æ—¥å¿—ï¼Œæ˜¾ç¤ºæ¸¸æˆä¸­çš„æ‰€æœ‰äº‹ä»¶å’Œå¯¹è¯ï¼š

- ğŸ’¬ **ç©å®¶å‘è¨€**ï¼šAI ç”Ÿæˆçš„è®¨è®ºã€æŒ‡æ§ã€è¾©æŠ¤
- ğŸ® **æ¸¸æˆäº‹ä»¶**ï¼šæ¸¸æˆå¼€å§‹ã€é˜¶æ®µåˆ‡æ¢ç­‰
- â° **é˜¶æ®µå˜åŒ–**ï¼šå¤œæ™šã€ç™½å¤©ã€æŠ•ç¥¨ç­‰
- ğŸ’€ **æ­»äº¡äº‹ä»¶**ï¼šç©å®¶æ­»äº¡é€šçŸ¥
- ğŸº **ç‹¼äººè¡ŒåŠ¨**ï¼šç‹¼äººå¤œæ™šè®¨è®º
- ğŸ”® **æŠ€èƒ½ä½¿ç”¨**ï¼šå„è§’è‰²æŠ€èƒ½çš„ä½¿ç”¨è®°å½•

äº‹ä»¶æ ¹æ®é‡è¦æ€§è¿›è¡Œé¢œè‰²ç¼–ç ï¼Œä¾¿äºå¿«é€Ÿè¯†åˆ«å…³é”®ä¿¡æ¯ã€‚

#### è°ƒè¯•é¢æ¿ï¼ˆå³ä¾§ï¼Œå¯é€‰ï¼‰

æŒ‰ 'd' é”®åˆ‡æ¢æ˜¾ç¤ºï¼ŒåŒ…å«ï¼š

- ä¼šè¯ ID
- é…ç½®æ–‡ä»¶æ¥æº
- ç©å®¶æ•°é‡ä¸ç±»å‹ç»Ÿè®¡
- è§’è‰²åˆ†é…
- æ—¶é—´é™åˆ¶è®¾ç½®
- é”™è¯¯è¿½è¸ª

### TUI æ§åˆ¶

- **q**ï¼šé€€å‡ºæ¸¸æˆ
- **d**ï¼šåˆ‡æ¢è°ƒè¯•é¢æ¿æ˜¾ç¤º/éšè—ï¼ˆæˆ–ä½¿ç”¨ `--debug` å‚æ•°é»˜è®¤å¼€å¯ï¼‰
- **n**ï¼šæ‰‹åŠ¨è¿›å…¥ä¸‹ä¸€æ­¥ï¼ˆè°ƒè¯•ç”¨ï¼‰
- **é¼ æ ‡æ»šè½®**ï¼šæ»šåŠ¨å¯¹è¯å†å²
- **æ–¹å‘é”®**ï¼šåœ¨å¯èšç„¦ç»„ä»¶é—´ç§»åŠ¨

### Console æ¨¡å¼

å¦‚æœä¸æƒ³ä½¿ç”¨ TUIï¼Œå¯ä»¥ä½¿ç”¨ `llm-werewolf` æˆ– `werewolf` å‘½ä»¤ï¼Œæ¸¸æˆå°†ä»¥çº¯æ–‡æœ¬æ—¥å¿—å½¢å¼è‡ªåŠ¨æ‰§è¡Œå¹¶è¾“å‡ºåˆ°ç»ˆç«¯ã€‚

## æ¸¸æˆæµç¨‹

1. **å‡†å¤‡é˜¶æ®µ**ï¼šç©å®¶è¢«éšæœºåˆ†é…è§’è‰²
2. **å¤œæ™šé˜¶æ®µ**ï¼šå…·æœ‰å¤œæ™šèƒ½åŠ›çš„è§’è‰²æŒ‰ä¼˜å…ˆé¡ºåºè¡ŒåŠ¨
3. **ç™½å¤©è®¨è®º**ï¼šç©å®¶è®¨è®ºå¹¶åˆ†äº«ä¿¡æ¯
4. **ç™½å¤©æŠ•ç¥¨**ï¼šç©å®¶æŠ•ç¥¨æ·˜æ±°å«Œç–‘äºº
5. **æ£€æŸ¥èƒœåˆ©**ï¼šæ¸¸æˆæ£€æŸ¥æ˜¯å¦æœ‰é˜µè¥è·èƒœ
6. é‡å¤æ­¥éª¤ 2-5 ç›´åˆ°æ»¡è¶³èƒœåˆ©æ¡ä»¶

## èƒœåˆ©æ¡ä»¶

æ¸¸æˆä¼šåœ¨æ¯ä¸ªé˜¶æ®µç»“æŸåæ£€æŸ¥èƒœåˆ©æ¡ä»¶ï¼š

- **æ‘æ°‘é˜µè¥è·èƒœ**ï¼šæ‰€æœ‰ç‹¼äººè¢«æ·˜æ±°
- **ç‹¼äººé˜µè¥è·èƒœ**ï¼šç‹¼äººæ•°é‡ â‰¥ æ‘æ°‘æ•°é‡
- **æ‹äººè·èƒœ**ï¼šåªå‰©ä¸‹ä¸¤ä¸ªæ‹äººå­˜æ´»ï¼ˆæ‹äººèƒœåˆ©ä¼˜å…ˆäºé˜µè¥èƒœåˆ©ï¼‰

## å¼€å‘

### å¼€å‘ç¯å¢ƒè®¾å®š

```bash
# å¤åˆ¶é¡¹ç›®
git clone https://github.com/Mai0313/LLMWereWolf.git
cd LLMWereWolf

# å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆåŒ…å«å¼€å‘å’Œæµ‹è¯•ä¾èµ–ï¼‰
uv sync --all-groups

# æˆ–é€‰æ‹©æ€§å®‰è£…
uv sync                     # ä»…åŸºç¡€ä¾èµ–ï¼ˆå·²åŒ…å« LLM æ”¯æŒï¼‰
uv sync --group dev         # å¼€å‘ä¾èµ–
uv sync --group test        # æµ‹è¯•ä¾èµ–
uv sync --group docs        # æ–‡ä»¶ç”Ÿæˆä¾èµ–
```

### æ‰§è¡Œæµ‹è¯•

```bash
# æ‰§è¡Œæ‰€æœ‰æµ‹è¯•
uv run pytest

# æ‰§è¡Œå¹¶æ˜¾ç¤ºè¦†ç›–ç‡
uv run pytest --cov=src --cov-report=term-missing

# æ‰§è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
uv run pytest tests/core/test_roles.py -v

# æ‰§è¡Œç‰¹å®šæµ‹è¯•å‡½æ•°
uv run pytest tests/core/test_roles.py::test_werewolf_role -v

# å¹³è¡Œæ‰§è¡Œæµ‹è¯•ï¼ˆæ›´å¿«ï¼‰
uv run pytest -n auto
```

### ä»£ç è´¨é‡

```bash
# æ‰§è¡Œ Ruff linter æ£€æŸ¥
uv run ruff check src/

# è‡ªåŠ¨ä¿®å¤å¯ä¿®å¤çš„é—®é¢˜
uv run ruff check --fix src/

# æ ¼å¼åŒ–ä»£ç 
uv run ruff format src/

# æ£€æŸ¥ç±»å‹ï¼ˆè‹¥æœ‰è®¾å®š mypyï¼‰
uv run mypy src/
```

### ä½¿ç”¨ Pre-commit

é¡¹ç›®åŒ…å« pre-commit è®¾ç½®ï¼Œè‡ªåŠ¨åœ¨æäº¤å‰æ£€æŸ¥ä»£ç è´¨é‡ï¼š

```bash
# å®‰è£… pre-commit hooks
uv run pre-commit install

# æ‰‹åŠ¨æ‰§è¡Œæ‰€æœ‰ hooks
uv run pre-commit run --all-files
```

### ä½¿ç”¨ Makefile

é¡¹ç›®æä¾› Makefile ç®€åŒ–å¸¸è§æ“ä½œï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make help

# æ¸…ç†è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶
make clean

# æ‰§è¡Œä»£ç æ ¼å¼åŒ–ï¼ˆpre-commitï¼‰
make format

# æ‰§è¡Œæ‰€æœ‰æµ‹è¯•
make test

# ç”Ÿæˆæ–‡ä»¶ï¼ˆéœ€è¦å…ˆåˆ›å»º docs ç›®å½•ï¼‰
make gen-docs
```

**æ³¨æ„**ï¼š`gen-docs` å‘½ä»¤éœ€è¦ `./scripts/gen_docs.py` è„šæœ¬å’Œ docs ç›®å½•ã€‚å¦‚æœæ‚¨çš„é¡¹ç›®å°šæœªè®¾ç½®æ–‡ä»¶ç³»ç»Ÿï¼Œæ­¤å‘½ä»¤å¯èƒ½æ— æ³•ä½¿ç”¨ã€‚

## é¡¹ç›®æ¶æ„

é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–æ¶æ„ï¼Œå„æ¨¡å—èŒè´£æ¸…æ™°ï¼š

```
src/llm_werewolf/
â”œâ”€â”€ cli.py                 # å‘½ä»¤è¡Œå…¥å£
â”œâ”€â”€ ai/                    # ä»£ç†ç³»ç»Ÿ
â”‚   â”œâ”€â”€ agents.py         # LLM/Human/Demo ä»£ç†å®ç°
â”‚   â””â”€â”€ message.py        # æ¶ˆæ¯å¤„ç†
â”œâ”€â”€ config/               # é…ç½®ç³»ç»Ÿ
â”‚   â”œâ”€â”€ game_config.py    # æ¸¸æˆé…ç½®æ¨¡å‹
â”‚   â””â”€â”€ role_presets.py   # è§’è‰²é¢„è®¾é…ç½®
â”œâ”€â”€ core/                 # æ ¸å¿ƒæ¸¸æˆé€»è¾‘
â”‚   â”œâ”€â”€ game_engine.py    # æ¸¸æˆå¼•æ“
â”‚   â”œâ”€â”€ game_state.py     # æ¸¸æˆçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ player.py         # ç©å®¶ç±»
â”‚   â”œâ”€â”€ actions.py        # åŠ¨ä½œç³»ç»Ÿ
â”‚   â”œâ”€â”€ events.py         # äº‹ä»¶ç³»ç»Ÿ
â”‚   â”œâ”€â”€ victory.py        # èƒœåˆ©æ¡ä»¶æ£€æŸ¥
â”‚   â””â”€â”€ roles/            # è§’è‰²å®ç°
â”‚       â”œâ”€â”€ base.py       # è§’è‰²åŸºç±»
â”‚       â”œâ”€â”€ werewolf.py   # ç‹¼äººé˜µè¥è§’è‰²
â”‚       â”œâ”€â”€ villager.py   # æ‘æ°‘é˜µè¥è§’è‰²
â”‚       â””â”€â”€ neutral.py    # ä¸­ç«‹è§’è‰²
â”œâ”€â”€ ui/                   # ç”¨æˆ·ç•Œé¢
â”‚   â”œâ”€â”€ tui_app.py        # TUI åº”ç”¨ç¨‹åº
â”‚   â”œâ”€â”€ styles.py         # TUI æ ·å¼
â”‚   â””â”€â”€ components/       # TUI ç»„ä»¶
â”‚       â”œâ”€â”€ player_panel.py
â”‚       â”œâ”€â”€ game_panel.py
â”‚       â”œâ”€â”€ chat_panel.py
â”‚       â””â”€â”€ debug_panel.py
â””â”€â”€ utils/                # å·¥å…·å‡½æ•°
    â””â”€â”€ validator.py      # éªŒè¯å·¥å…·
```

### æ¨¡å—è¯´æ˜

- **cli.py**ï¼šå‘½ä»¤è¡Œç•Œé¢ï¼Œè´Ÿè´£åŠ è½½é…ç½®å¹¶å¯åŠ¨æ¸¸æˆ
- **ai/**ï¼šä»£ç†ç³»ç»Ÿï¼Œå®ç°å„ç§ AI ä»£ç†å’ŒçœŸäººç©å®¶ç•Œé¢
- **config/**ï¼šé…ç½®ç³»ç»Ÿï¼ŒåŒ…å«æ¸¸æˆå‚æ•°å’Œè§’è‰²é¢„è®¾
- **core/**ï¼šæ¸¸æˆæ ¸å¿ƒé€»è¾‘ï¼ŒåŒ…å«è§’è‰²ã€ç©å®¶ã€æ¸¸æˆçŠ¶æ€ã€åŠ¨ä½œå’Œäº‹ä»¶ç³»ç»Ÿ
- **ui/**ï¼šç»ˆç«¯ç”¨æˆ·ç•Œé¢ï¼ŒåŸºäº Textual æ¡†æ¶
- **utils/**ï¼šé€šç”¨å·¥å…·å‡½æ•°

## ç³»ç»Ÿéœ€æ±‚

- **Python**ï¼š3.10 æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ“ä½œç³»ç»Ÿ**ï¼šLinuxã€macOSã€Windows
- **ç»ˆç«¯**ï¼šæ”¯æŒ ANSI é¢œè‰²å’Œ Unicode çš„ç°ä»£ç»ˆç«¯ï¼ˆç”¨äº TUIï¼‰

### ä¸»è¦ä¾èµ–

- **pydantic** (â‰¥2.12.3)ï¼šæ•°æ®éªŒè¯å’Œè®¾å®šç®¡ç†
- **textual** (â‰¥6.3.0)ï¼šTUI æ¡†æ¶
- **rich** (â‰¥14.2.0)ï¼šç»ˆç«¯æ ¼å¼åŒ–
- **openai** (â‰¥2.5.0)ï¼šOpenAI API å®¢æˆ·ç«¯ï¼ˆç”¨äº LLM æ•´åˆï¼‰
- **python-dotenv** (â‰¥1.1.1)ï¼šç¯å¢ƒå˜é‡ç®¡ç†
- **pyyaml** (â‰¥6.0.3)ï¼šYAML é…ç½®æ–‡ä»¶è§£æ
- **fire** (â‰¥0.7.1)ï¼šå‘½ä»¤è¡Œç•Œé¢
- **logfire** (â‰¥4.13.2)ï¼šç»“æ„åŒ–æ—¥å¿—è®°å½•

## å¸¸è§é—®é¢˜

### å¦‚ä½•æ–°å¢æ›´å¤šç©å®¶ï¼Ÿ

ç¼–è¾‘æ‚¨çš„ YAML é…ç½®æ–‡ä»¶ï¼Œè°ƒæ•´ `preset` ä»¥åŒ¹é…ç©å®¶æ•°é‡ï¼Œå¹¶åœ¨ `players` åˆ—è¡¨ä¸­æ–°å¢ç©å®¶é…ç½®ã€‚è®°å¾—ç©å®¶æ•°é‡å¿…é¡»ä¸ preset çš„ `num_players` ä¸€è‡´ã€‚

### å¯ä»¥æ··åˆä¸åŒçš„ LLM æ¨¡å‹å—ï¼Ÿ

å¯ä»¥ï¼æ‚¨å¯ä»¥åœ¨åŒä¸€åœºæ¸¸æˆä¸­ä½¿ç”¨ä¸åŒçš„ LLM æä¾›å•†å’Œæ¨¡å‹ï¼Œä¾‹å¦‚åŒæ—¶ä½¿ç”¨ GPT-4ã€Claude å’Œæœ¬åœ° Llama æ¨¡å‹ã€‚

### å¦‚ä½•è®©çœŸäººç©å®¶å‚ä¸æ¸¸æˆï¼Ÿ

åœ¨ YAML é…ç½®ä¸­ï¼Œå°†æŸä¸ªç©å®¶çš„ `model` è®¾ç½®ä¸º `human`ã€‚æ¸¸æˆè¿›è¡Œæ—¶ï¼Œè¯¥ç©å®¶éœ€è¦é€šè¿‡ç»ˆç«¯è¾“å…¥æ¥å›åº”ã€‚

### æœ¬åœ°æ¨¡å‹ï¼ˆOllamaï¼‰å¦‚ä½•è®¾å®šï¼Ÿ

ç¡®ä¿ Ollama æ­£åœ¨æ‰§è¡Œï¼Œç„¶ååœ¨ YAML ä¸­è®¾å®šï¼š

```yaml
  - name: Ollama ç©å®¶
    model: llama3
    base_url: http://localhost:11434/v1
```

ä¸éœ€è¦è®¾å®š `api_key_env`ã€‚

### æ¸¸æˆå¤ªå¿«æˆ–å¤ªæ…¢æ€ä¹ˆåŠï¼Ÿ

æ‚¨å¯ä»¥è‡ªå®šä¹‰ `GameConfig` æ¥è°ƒæ•´å„é˜¶æ®µçš„æ—¶é—´é™åˆ¶ï¼š

```python
from llm_werewolf.config import GameConfig

config = GameConfig(
    num_players=9,
    role_names=[...],
    night_timeout=90,  # å¤œæ™šé˜¶æ®µ 90 ç§’
    day_timeout=600,  # ç™½å¤©è®¨è®º 600 ç§’
    vote_timeout=90,  # æŠ•ç¥¨é˜¶æ®µ 90 ç§’
)
```

### å¦‚ä½•è‡ªå®šä¹‰è§’è‰²ç»„åˆï¼Ÿ

åˆ›å»ºè‡ªå®šä¹‰çš„ `GameConfig`ï¼ŒæŒ‡å®šæ‚¨æƒ³è¦çš„è§’è‰²ï¼š

```python
from llm_werewolf.config import GameConfig

config = GameConfig(
    num_players=10,
    role_names=[
        "Werewolf",
        "AlphaWolf",
        "WhiteWolf",
        "Seer",
        "Witch",
        "Hunter",
        "Guard",
        "Villager",
        "Villager",
        "Villager",
    ],
)
```

## æˆæƒ

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) æˆæƒã€‚

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å‚ä¸ï¼š

1. **å›æŠ¥é—®é¢˜**ï¼šåœ¨ [Issues](https://github.com/Mai0313/LLMWereWolf/issues) é¡µé¢å›æŠ¥ bug æˆ–æå‡ºåŠŸèƒ½å»ºè®®
2. **æäº¤ Pull Request**ï¼šä¿®å¤ bug æˆ–æ–°å¢åŠŸèƒ½
3. **æ”¹è¿›æ–‡æ¡£**ï¼šå¸®åŠ©æ”¹å–„ README å’Œä»£ç æ³¨è§£
4. **åˆ†äº«åé¦ˆ**ï¼šå‘Šè¯‰æˆ‘ä»¬æ‚¨çš„ä½¿ç”¨ä½“éªŒ

### è´¡çŒ®æµç¨‹

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤å˜æ›´ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å¼€å¯ Pull Request

è¯·ç¡®ä¿æ‚¨çš„ä»£ç ï¼š

- éµå¾ªé¡¹ç›®çš„ä»£ç é£æ ¼ï¼ˆä½¿ç”¨ Ruffï¼‰
- åŒ…å«é€‚å½“çš„æµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## è‡´è°¢

æœ¬é¡¹ç›®ä½¿ç”¨ä»¥ä¸‹ä¼˜ç§€çš„å¼€æºå·¥å…·æ„å»ºï¼š

- [Pydantic](https://pydantic.dev/) - æ•°æ®éªŒè¯å’Œè®¾å®šç®¡ç†
- [Textual](https://textual.textualize.io/) - ç°ä»£åŒ– TUI æ¡†æ¶
- [Rich](https://rich.readthedocs.io/) - ç²¾ç¾çš„ç»ˆç«¯è¾“å‡º
- [OpenAI Python SDK](https://github.com/openai/openai-python) - LLM API å®¢æˆ·ç«¯
- [uv](https://docs.astral.sh/uv/) - å¿«é€Ÿçš„ Python åŒ…ç®¡ç†å™¨
- [Ruff](https://github.com/astral-sh/ruff) - æé€Ÿ Python linter

## ç›¸å…³é“¾æ¥

- [é¡¹ç›®é¦–é¡µ](https://github.com/Mai0313/LLMWereWolf)
- [é—®é¢˜è¿½è¸ª](https://github.com/Mai0313/LLMWereWolf/issues)

## æ›´æ–°æ—¥å¿—

è¯·å‚é˜… [Releases](https://github.com/Mai0313/LLMWereWolf/releases) é¡µé¢æŸ¥çœ‹ç‰ˆæœ¬æ›´æ–°è®°å½•ã€‚