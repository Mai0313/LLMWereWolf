<div align="center" markdown="1">

# LLM ç‹¼äººæ®º ğŸº

[![PyPI version](https://img.shields.io/pypi/v/llm_werewolf.svg)](https://pypi.org/project/llm_werewolf/)
[![python](https://img.shields.io/badge/-Python_%7C_3.10%7C_3.11%7C_3.12%7C_3.13-blue?logo=python&logoColor=white)](https://www.python.org/downloads/source/)
[![uv](https://img.shields.io/badge/-uv_dependency_management-2C5F2D?logo=python&logoColor=white)](https://docs.astral.sh/uv/)
[![Ruff](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/astral-sh/ruff/main/assets/badge/v2.json)](https://github.com/astral-sh/ruff)
[![Pydantic v2](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/pydantic/pydantic/main/docs/badge/v2.json)](https://docs.pydantic.dev/latest/contributing/#badges)
[![tests](https://github.com/Mai0313/LLMWereWolf/actions/workflows/test.yml/badge.svg)](https://github.com/Mai0313/LLMWereWolf/actions/workflows/test.yml)
[![code-quality](https://github.com/Mai0313/LLMWereWolf/actions/workflows/code-quality-check.yml/badge.svg)](https://github.com/Mai0313/LLMWereWolf/actions/workflows/code-quality-check.yml)
[![license](https://img.shields.io/badge/License-MIT-green.svg?labelColor=gray)](https://github.com/Mai0313/LLMWereWolf/tree/main?tab=License-1-ov-file)
[![PRs](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](https://github.com/Mai0313/LLMWereWolf/pulls)
[![contributors](https://img.shields.io/github/contributors/Mai0313/LLMWereWolf.svg)](https://github.com/Mai0313/LLMWereWolf/graphs/contributors)

</div>

ä¸€å€‹æ”¯æ´å¤šç¨® LLM æ¨¡å‹çš„ AI ç‹¼äººæ®ºéŠæˆ²ï¼Œå…·æœ‰ç²¾ç¾çš„çµ‚ç«¯ä»‹é¢ (TUI)ã€‚

å…¶ä»–èªè¨€: [English](README.md) | [ç¹é«”ä¸­æ–‡](README.zh-TW.md) | [ç®€ä½“ä¸­æ–‡](README.zh-CN.md)

## ç‰¹è‰²åŠŸèƒ½

- ğŸ® **å®Œæ•´éŠæˆ²é‚è¼¯**ï¼šåŒ…å« 20+ ç¨®è§’è‰²çš„å®Œæ•´ç‹¼äººæ®ºè¦å‰‡å¯¦ä½œ
- ğŸ¤– **LLM æ•´åˆ**ï¼šçµ±ä¸€çš„ä»£ç†ä»‹é¢ï¼Œè¼•é¬†æ•´åˆä»»ä½• LLMï¼ˆOpenAIã€Anthropicã€DeepSeekã€æœ¬åœ°æ¨¡å‹ç­‰ï¼‰
- ğŸ–¥ï¸ **ç²¾ç¾ TUI**ï¼šä½¿ç”¨ Textual æ¡†æ¶çš„å³æ™‚éŠæˆ²è¦–è¦ºåŒ–ï¼Œæ”¯æ´äº’å‹•å¼çµ‚ç«¯ä»‹é¢
- ğŸ‘¤ **çœŸäººç©å®¶**ï¼šæ”¯æ´çœŸäººç©å®¶èˆ‡ AI æ··åˆéŠæˆ²
- âš™ï¸ **å¯é…ç½®**ï¼šé€é YAML é…ç½®æª”æ¡ˆéˆæ´»è¨­å®šç©å®¶å’ŒéŠæˆ²åƒæ•¸
- ğŸ“Š **äº‹ä»¶ç³»çµ±**ï¼šå®Œæ•´çš„äº‹ä»¶è¨˜éŒ„å’ŒéŠæˆ²ç‹€æ…‹è¿½è¹¤
- ğŸ§ª **å……åˆ†æ¸¬è©¦**ï¼šé«˜ç¨‹å¼ç¢¼è¦†è“‹ç‡èˆ‡å®Œæ•´æ¸¬è©¦å¥—ä»¶

## å¿«é€Ÿé–‹å§‹

### å®‰è£

```bash
# è¤‡è£½å„²å­˜åº«
git clone https://github.com/Mai0313/LLMWereWolf.git
cd LLMWereWolf

# å®‰è£åŸºç¤ä¾è³´
uv sync

# å¯é¸ï¼šå®‰è£ LLM æä¾›å•†ä¾è³´
uv sync --group llm-openai      # ç”¨æ–¼ OpenAI æ¨¡å‹
uv sync --group llm-anthropic   # ç”¨æ–¼ Claude æ¨¡å‹
uv sync --group llm-all         # ç”¨æ–¼æ‰€æœ‰æ”¯æ´çš„ LLM æä¾›å•†
```

### åŸ·è¡ŒéŠæˆ²

å‘½ä»¤åˆ—å…¥å£ï¼ˆ`llm-werewolf` èˆ‡ `werewolf`ï¼‰éœ€è¦è¼‰å…¥ä¸€å€‹ YAML è¨­å®šæª”ï¼Œæè¿°ç©å®¶èˆ‡ä»‹é¢æ¨¡å¼ã€‚

```bash
# ä½¿ç”¨å…§å»ºç¤ºç¯„é…ç½®å•Ÿå‹• TUIï¼ˆä½¿ç”¨ demo ä»£ç†æ¸¬è©¦ï¼‰
uv run llm-werewolf configs/demo.yaml

# ä½¿ç”¨ LLM ç©å®¶é…ç½®ï¼ˆéœ€å…ˆè¨­å®š API é‡‘é‘°ï¼‰
uv run llm-werewolf configs/players.yaml

# è‹¥å·²å…¨åŸŸå®‰è£å¥—ä»¶
llm-werewolf configs/demo.yaml

# åŸ·è¡Œè‡ªè¨‚è¨­å®š
uv run llm-werewolf my-game.yaml

# ä½¿ç”¨ werewolf åˆ¥å
uv run werewolf configs/demo.yaml
```

å¯åœ¨ YAML ä¸­èª¿æ•´ä»‹é¢é¸é …ï¼š

- `game_type: tui` å•Ÿç”¨äº’å‹•å¼çµ‚ç«¯ä»‹é¢ï¼ˆé è¨­ï¼‰
- `game_type: console` ä½¿ç”¨ç´”æ–‡å­—æ—¥èªŒæ¨¡å¼
- `show_debug: true` é¡¯ç¤º TUI é™¤éŒ¯é¢æ¿ï¼ˆåƒ… `tui` æ¨¡å¼æœ‰æ•ˆï¼‰
- `preset: <preset-name>` æŒ‡å®šè§’è‰²é è¨­é…ç½®ï¼ˆå¦‚ `6-players`ã€`9-players`ã€`12-players`ã€`15-players`ã€`expert`ã€`chaos`ï¼‰

### ç’°å¢ƒé…ç½®

å»ºç«‹ `.env` æª”æ¡ˆé…ç½® LLM API é‡‘é‘°ï¼š

```bash
# OpenAI
OPENAI_API_KEY=sk-...

# Anthropic
ANTHROPIC_API_KEY=sk-ant-...

# DeepSeek
DEEPSEEK_API_KEY=sk-...

# xAI (Grok)
XAI_API_KEY=xai-...

# æœ¬åœ°æ¨¡å‹ï¼ˆOllama ç­‰ï¼‰ä¸éœ€è¦ API é‡‘é‘°
# åªéœ€åœ¨ YAML ä¸­è¨­å®š base_url å³å¯
```

## æ”¯æ´çš„è§’è‰²

### ç‹¼äººé™£ç‡Ÿ ğŸº

- **æ™®é€šç‹¼äºº (Werewolf)**ï¼šåœ¨å¤œæ™šé›†é«”æ®ºäººçš„æ¨™æº–ç‹¼äºº
- **ç‹¼ç‹ (AlphaWolf)**ï¼šè¢«æ·˜æ±°æ™‚å¯ä»¥é–‹æ§å¸¶èµ°ä¸€äºº
- **ç™½ç‹¼ç‹ (WhiteWolf)**ï¼šæ¯éš”ä¸€æ™šå¯ä»¥æ®ºæ­»å¦ä¸€å€‹ç‹¼äººï¼Œæˆç‚ºç¨ç‹¼
- **ç‹¼ç¾äºº (WolfBeauty)**ï¼šé­…æƒ‘ä¸€åç©å®¶ï¼Œç‹¼ç¾äººæ­»äº¡æ™‚è©²ç©å®¶åŒæ­»
- **å®ˆè¡›ç‹¼ (GuardianWolf)**ï¼šæ¯æ™šå¯ä»¥ä¿è­·ä¸€åç‹¼äºº
- **éš±ç‹¼ (HiddenWolf)**ï¼šé è¨€å®¶æŸ¥é©—é¡¯ç¤ºç‚ºæ‘æ°‘
- **è¡€æœˆä½¿å¾’ (BloodMoonApostle)**ï¼šå¯ä»¥è½‰åŒ–ç‚ºç‹¼äºº
- **å¤¢é­˜ç‹¼ (NightmareWolf)**ï¼šå¯ä»¥å°é–ç©å®¶çš„èƒ½åŠ›

### æ‘æ°‘é™£ç‡Ÿ ğŸ‘¥

- **å¹³æ°‘ (Villager)**ï¼šæ²’æœ‰ç‰¹æ®Šèƒ½åŠ›çš„æ™®é€šæ‘æ°‘
- **é è¨€å®¶ (Seer)**ï¼šæ¯æ™šå¯ä»¥æŸ¥é©—ä¸€åç©å®¶çš„èº«åˆ†ï¼ˆç‹¼äººæˆ–æ‘æ°‘ï¼‰
- **å¥³å·« (Witch)**ï¼šæ“æœ‰è§£è—¥å’Œæ¯’è—¥ï¼ˆå„ä¸€æ¬¡æ€§ä½¿ç”¨ï¼‰
- **çµäºº (Hunter)**ï¼šè¢«æ·˜æ±°æ™‚å¯ä»¥é–‹æ§å¸¶èµ°ä¸€äºº
- **å®ˆè¡› (Guard)**ï¼šæ¯æ™šå¯ä»¥ä¿è­·ä¸€åç©å®¶å…æ–¼ç‹¼äººæ”»æ“Š
- **ç™½ç—´ (Idiot)**ï¼šè¢«æŠ•ç¥¨æ·˜æ±°æ™‚ç¿»ç‰Œå­˜æ´»ä½†å¤±å»æŠ•ç¥¨æ¬Š
- **é•·è€ (Elder)**ï¼šéœ€è¦å…©æ¬¡æ”»æ“Šæ‰æœƒæ­»äº¡
- **é¨å£« (Knight)**ï¼šæ¯å±€å¯ä»¥èˆ‡ä¸€åç©å®¶æ±ºé¬¥ä¸€æ¬¡
- **é­”è¡“å¸« (Magician)**ï¼šå¯ä»¥äº¤æ›å…©åç©å®¶çš„è§’è‰²ä¸€æ¬¡
- **ä¸˜æ¯”ç‰¹ (Cupid)**ï¼šç¬¬ä¸€æ™šå°‡å…©åç©å®¶é€£çµç‚ºæˆ€äºº
- **çƒé´‰ (Raven)**ï¼šæ¨™è¨˜ä¸€åç©å®¶ç²å¾—é¡å¤–æŠ•ç¥¨
- **å®ˆå¢“äºº (GraveyardKeeper)**ï¼šå¯ä»¥æŸ¥é©—æ­»äº¡ç©å®¶çš„èº«åˆ†

### ä¸­ç«‹è§’è‰² ğŸ‘»

- **ç›œè³Š (Thief)**ï¼šç¬¬ä¸€æ™šå¯ä»¥å¾å…©å¼µé¡å¤–è§’è‰²å¡ä¸­é¸æ“‡ä¸€å€‹
- **æˆ€äºº (Lover)**ï¼šç”±ä¸˜æ¯”ç‰¹é€£çµï¼Œä¸€äººæ­»äº¡å¦ä¸€äººæ®‰æƒ…

## é…ç½®

### ä½¿ç”¨é è¨­é…ç½®

åœ¨è¨­å®šæª”ä¸­èª¿æ•´ `preset` æ¬„ä½å³å¯å¥—ç”¨å…§å»ºè§’è‰²çµ„åˆï¼Œå¯é¸é …ç›®ï¼š

- `6-players`ï¼šæ–°æ‰‹å±€ï¼ˆ6 äººï¼‰- 2 ç‹¼äºº + é è¨€å®¶ã€å¥³å·«ã€2 å¹³æ°‘
- `9-players`ï¼šæ¨™æº–å±€ï¼ˆ9 äººï¼‰- 2 ç‹¼äºº + é è¨€å®¶ã€å¥³å·«ã€çµäººã€å®ˆè¡›ã€3 å¹³æ°‘
- `12-players`ï¼šé€²éšå±€ï¼ˆ12 äººï¼‰- 3 ç‹¼äººï¼ˆå«ç‹¼ç‹ï¼‰+ é è¨€å®¶ã€å¥³å·«ã€çµäººã€å®ˆè¡›ã€ä¸˜æ¯”ç‰¹ã€ç™½ç—´ã€3 å¹³æ°‘
- `15-players`ï¼šå®Œæ•´å±€ï¼ˆ15 äººï¼‰- 4 ç‹¼äººï¼ˆå«ç‹¼ç‹ã€ç™½ç‹¼ç‹ï¼‰+ é è¨€å®¶ã€å¥³å·«ã€çµäººã€å®ˆè¡›ã€ä¸˜æ¯”ç‰¹ã€ç™½ç—´ã€é•·è€ã€çƒé´‰ã€3 å¹³æ°‘
- `expert`ï¼šå°ˆå®¶é…ç½®ï¼ˆ12 äººï¼‰- è¤‡é›œè§’è‰²çµ„åˆï¼ŒåŒ…å«å¤šç¨®ç‰¹æ®Šç‹¼äºº
- `chaos`ï¼šæ··äº‚è§’è‰²çµ„åˆï¼ˆ10 äººï¼‰- ä¸å¸¸è¦‹çš„è§’è‰²æ­é…ï¼Œé©åˆé€²éšç©å®¶

### è‡ªè¨‚é…ç½®

#### ç©å®¶é…ç½®æª”æ¡ˆ

```bash
# ç”±ç¤ºç¯„é…ç½®é–‹å§‹ï¼ˆå…¨éƒ¨ç‚º demo ä»£ç†ï¼‰
cp configs/demo.yaml my-game.yaml

# æˆ–ç”±æ”¯æ´ LLM çš„æ¨£æ¿é–‹å§‹
cp configs/players.yaml my-game.yaml

# ç·¨è¼¯è¨­å®šæª”
# configs/players.yaml å«æœ‰æ¬„ä½èªªæ˜èˆ‡ç¯„ä¾‹
```

ç¯„ä¾‹ `my-game.yaml`ï¼š

```yaml
preset: 6-players        # é¸æ“‡é è¨­é…ç½®
game_type: tui           # ä»‹é¢æ¨¡å¼ï¼štui æˆ– console
show_debug: false        # æ˜¯å¦é¡¯ç¤ºé™¤éŒ¯é¢æ¿

players:
  - name: GPT-4 åµæ¢
    model: gpt-4o
    base_url: https://api.openai.com/v1
    api_key_env: OPENAI_API_KEY
    temperature: 0.7
    max_tokens: 500

  - name: Claude åˆ†æå¸«
    model: claude-3-5-sonnet-20241022
    base_url: https://api.anthropic.com/v1
    api_key_env: ANTHROPIC_API_KEY
    temperature: 0.7
    max_tokens: 500

  - name: DeepSeek æ€è€ƒè€…
    model: deepseek-reasoner
    base_url: https://api.deepseek.com/v1
    api_key_env: DEEPSEEK_API_KEY
    temperature: 0.7
    max_tokens: 500

  - name: äººé¡ç©å®¶
    model: human          # çœŸäººç©å®¶

  - name: æœ¬åœ° Llama
    model: llama3
    base_url: http://localhost:11434/v1
    # æœ¬åœ°æ¨¡å‹ä¸éœ€è¦ api_key_env

  - name: æ¸¬è©¦æ©Ÿå™¨äºº
    model: demo           # æ¸¬è©¦ç”¨çš„ç°¡å–®ä»£ç†
```

**é…ç½®èªªæ˜ï¼š**

- `preset`ï¼šå¿…å¡«ï¼Œæ±ºå®šéŠæˆ²çš„è§’è‰²é…ç½®å’Œç©å®¶æ•¸é‡
- `game_type`ï¼šé¸å¡«ï¼Œé è¨­ç‚º `tui`
- `show_debug`ï¼šé¸å¡«ï¼Œé è¨­ç‚º `false`
- `players`ï¼šå¿…å¡«ï¼Œç©å®¶åˆ—è¡¨ï¼Œæ•¸é‡å¿…é ˆèˆ‡ preset çš„ `num_players` ä¸€è‡´

**ç©å®¶é…ç½®æ¬„ä½ï¼š**

- `name`ï¼šç©å®¶é¡¯ç¤ºåç¨±
- `model`ï¼šæ¨¡å‹é¡å‹
  - `human`ï¼šçœŸäººç©å®¶ï¼ˆé€éçµ‚ç«¯è¼¸å…¥ï¼‰
  - `demo`ï¼šæ¸¬è©¦ç”¨ç°¡å–®ä»£ç†ï¼ˆéš¨æ©Ÿå›æ‡‰ï¼‰
  - LLM æ¨¡å‹åç¨±ï¼šå¦‚ `gpt-4o`ã€`claude-3-5-sonnet-20241022`ã€`llama3`
- `base_url`ï¼šAPI ç«¯é»ï¼ˆLLM æ¨¡å‹å¿…å¡«ï¼‰
- `api_key_env`ï¼šç’°å¢ƒè®Šæ•¸åç¨±ï¼ˆæœ‰é©—è­‰çš„ç«¯é»å¿…å¡«ï¼‰
- `temperature`ï¼šé¸å¡«ï¼Œé è¨­ 0.7
- `max_tokens`ï¼šé¸å¡«ï¼Œé è¨­ 500

**æ”¯æ´çš„æ¨¡å‹é¡å‹ï¼š**

- **OpenAI ç›¸å®¹ API**ï¼šä»»ä½•æ”¯æ´ OpenAI Chat Completions æ ¼å¼çš„æ¨¡å‹
- **çœŸäººç©å®¶**ï¼š`model: human`
- **æ¸¬è©¦ä»£ç†**ï¼š`model: demo`

**æœ¬åœ°æ¨¡å‹ç¯„ä¾‹ï¼š**

è‹¥ä½¿ç”¨ Ollama ç­‰æœ¬åœ°æ¨¡å‹ï¼Œå¯çœç•¥ `api_key_env`ï¼š

```yaml
  - name: Ollama Llama3
    model: llama3
    base_url: http://localhost:11434/v1
    temperature: 0.7
    max_tokens: 500
```

## ä»£ç†ç³»çµ±

### å…§å»ºä»£ç†é¡å‹

æœ¬å°ˆæ¡ˆæä¾›ä¸‰ç¨®å…§å»ºä»£ç†é¡å‹ï¼š

1. **LLMAgent**ï¼šæ”¯æ´ä»»ä½• OpenAI ç›¸å®¹ API çš„ LLM æ¨¡å‹
2. **HumanAgent**ï¼šçœŸäººç©å®¶é€éçµ‚ç«¯è¼¸å…¥
3. **DemoAgent**ï¼šæ¸¬è©¦ç”¨çš„ç°¡å–®ä»£ç†ï¼ˆéš¨æ©Ÿå›æ‡‰ï¼‰

### é€é YAML é…ç½®ä½¿ç”¨ä»£ç†

æ¨è–¦æ–¹å¼æ˜¯é€é YAML é…ç½®æª”æ¡ˆä¾†è¨­å®šä»£ç†ï¼ˆåƒè¦‹[é…ç½®](#%E9%85%8D%E7%BD%AE)ç« ç¯€ï¼‰ã€‚

### ç¨‹å¼åŒ–ä½¿ç”¨ä»£ç†

å¦‚æœéœ€è¦åœ¨ Python ç¨‹å¼ç¢¼ä¸­ç›´æ¥å»ºç«‹ä»£ç†ï¼š

```python
from llm_werewolf.ai import LLMAgent, HumanAgent, DemoAgent, create_agent, PlayerConfig
from llm_werewolf.core import GameEngine
from llm_werewolf.config import get_preset_by_name

# æ–¹æ³• 1ï¼šç›´æ¥å»ºç«‹ä»£ç†å¯¦ä¾‹
llm_agent = LLMAgent(
    model_name="gpt-4o",
    api_key="your-api-key",
    base_url="https://api.openai.com/v1",
    temperature=0.7,
    max_tokens=500,
)

human_agent = HumanAgent(model_name="human")
demo_agent = DemoAgent(model_name="demo")

# æ–¹æ³• 2ï¼šå¾é…ç½®ç‰©ä»¶å»ºç«‹ï¼ˆè‡ªå‹•å¾ç’°å¢ƒè®Šæ•¸è¼‰å…¥ API é‡‘é‘°ï¼‰
player_config = PlayerConfig(
    name="GPT-4 ç©å®¶",
    model="gpt-4o",
    base_url="https://api.openai.com/v1",
    api_key_env="OPENAI_API_KEY",
    temperature=0.7,
    max_tokens=500,
)
agent = create_agent(player_config)

# è¨­å®šéŠæˆ²
game_config = get_preset_by_name("9-players")
engine = GameEngine(game_config)

players = [
    ("player_1", "GPT-4 ç©å®¶", llm_agent),
    ("player_2", "çœŸäººç©å®¶", human_agent),
    ("player_3", "æ¸¬è©¦æ©Ÿå™¨äºº", demo_agent),
    # ... æ›´å¤šç©å®¶
]

roles = game_config.to_role_list()
engine.setup_game(players, roles)
result = engine.play_game()
```

### æ”¯æ´çš„ LLM æä¾›å•†

ç”±æ–¼ä½¿ç”¨ OpenAI ç›¸å®¹ APIï¼Œä»¥ä¸‹æä¾›å•†éƒ½å¯ä»¥ä½¿ç”¨ï¼š

- **OpenAI**ï¼šGPT-4ã€GPT-4oã€GPT-3.5-turbo ç­‰
- **Anthropic**ï¼šClaude 3.5 Sonnetã€Claude 3 Opusã€Claude 3 Haiku ç­‰
- **DeepSeek**ï¼šDeepSeek-Reasonerã€DeepSeek-Chat ç­‰
- **xAI**ï¼šGrok ç³»åˆ—æ¨¡å‹
- **æœ¬åœ°æ¨¡å‹**ï¼šOllamaã€LM Studioã€vLLM ç­‰
- **å…¶ä»–ç›¸å®¹ API**ï¼šä»»ä½•æ”¯æ´ OpenAI Chat Completions æ ¼å¼çš„æœå‹™

### å¯¦ä½œè‡ªè¨‚ä»£ç†

è¦æ•´åˆè‡ªè¨‚ LLM æä¾›å•†ï¼Œåªéœ€å¯¦ä½œç°¡å–®çš„ä»£ç†å”è­°ï¼š

```python
class MyCustomAgent:
    """è‡ªè¨‚ä»£ç†å¯¦ä½œç¯„ä¾‹ã€‚"""

    def __init__(self, client: YourLLMClient) -> None:
        self.client = client
        self.model_name = "my-custom-model"
        self._history: list[dict[str, str]] = []

    def get_response(self, message: str) -> str:
        """ç²å– LLM å›æ‡‰ã€‚

        Args:
            message: ä½¿ç”¨è€…è¨Šæ¯æˆ–éŠæˆ²æç¤º

        Returns:
            str: LLM çš„å›æ‡‰
        """
        self._history.append({"role": "user", "content": message})
        reply = self.client.generate(message, history=self._history)
        self._history.append({"role": "assistant", "content": reply})
        return reply

    def reset(self) -> None:
        """å¯é¸ï¼šåœ¨æ–°éŠæˆ²é–‹å§‹å‰æ¸…ç©ºå°è©±æ­·å²ã€‚"""
        self._history.clear()
```

**å¿…é ˆå¯¦ä½œçš„ä»‹é¢ï¼š**

- `model_name` (å±¬æ€§)ï¼šæ¨¡å‹åç¨±å­—ä¸²
- `get_response(message: str) -> str` (æ–¹æ³•)ï¼šæ¥æ”¶è¨Šæ¯ä¸¦è¿”å›å›æ‡‰

**å¯é¸å¯¦ä½œçš„æ–¹æ³•ï¼š**

- `reset()`ï¼šæ¸…é™¤ä»£ç†çš„å…§éƒ¨ç‹€æ…‹ï¼ˆå°è©±æ­·å²ç­‰ï¼‰
- `add_to_history(role: str, content: str)`ï¼šæ‰‹å‹•æ–°å¢å°è©±æ­·å²
- `get_history() -> list[dict[str, str]]`ï¼šç²å–å°è©±æ­·å²

æ‚¨å¯ä»¥ç›´æ¥å°‡è‡ªè¨‚ä»£ç†å‚³å…¥ `GameEngine.setup_game()`ã€‚

## TUI ä»‹é¢

TUI (Terminal User Interface) æä¾›ç¾ä»£åŒ–çµ‚ç«¯ä»‹é¢çš„å³æ™‚éŠæˆ²è¦–è¦ºåŒ–ï¼Œä½¿ç”¨ [Textual](https://textual.textualize.io/) æ¡†æ¶æ§‹å»ºã€‚

### ä»‹é¢é è¦½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸº Werewolf Game                                                       AI-Powered Werewolf     â”‚
â”‚ q é€€å‡º  d åˆ‡æ›é™¤éŒ¯  n ä¸‹ä¸€æ­¥                                                    [00:02:34]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â”‚ â•­â”€â”€â”€â”€â”€ éŠæˆ²ç‹€æ…‹ â”€â”€â”€â”€â”€â•®                 â”‚                               â”‚
â”‚    ç©å®¶              â”‚ â”‚ ğŸŒ™ ç¬¬ 2 å›åˆ - å¤œæ™š â”‚                 â”‚    é™¤éŒ¯è³‡è¨Š                   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚ â”‚                     â”‚                 â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚ åå­—      æ¨¡å‹       â”‚ â”‚ ç©å®¶ç¸½æ•¸ï¼š 8/9      â”‚                 â”‚ æœƒè©± ID:                      â”‚
â”‚           ç‹€æ…‹       â”‚ â”‚ ç‹¼äººï¼š     2        â”‚                 â”‚   ww_20251019_163022          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚ â”‚ æ‘æ°‘ï¼š     6        â”‚                 â”‚                               â”‚
â”‚ Alice     gpt-4o     â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                 â”‚ é…ç½®ï¼šplayers.yaml            â”‚
â”‚           âœ“ ğŸ›¡ï¸      â”‚                                          â”‚                               â”‚
â”‚ Bob       claude     â”‚                                          â”‚ ç©å®¶ï¼š9                       â”‚
â”‚           âœ“          â”‚                                          â”‚ AI: 7  çœŸäºº: 1  Demo: 1       â”‚
â”‚ Charlie   llama3     â”‚                                          â”‚                               â”‚
â”‚           âœ“          â”‚                                          â”‚ è§’è‰²ï¼š                        â”‚
â”‚ David     deepseek   â”‚ â•­â”€â”€â”€â”€ äº‹ä»¶ / å°è©± â”€â”€â”€â”€â•®                â”‚  - Werewolf x2                â”‚
â”‚           âœ“ â¤ï¸       â”‚ â”‚ [00:02:28] ğŸ® éŠæˆ²é–‹å§‹â”‚                â”‚  - Seer x1                    â”‚
â”‚ Eve       grok       â”‚ â”‚ [00:02:29] â° éšæ®µï¼šå¤œâ”‚                â”‚  - Witch x1                   â”‚
â”‚           âœ“ â¤ï¸       â”‚ â”‚ [00:02:30] ğŸº ç‹¼äººè¨è«–â”‚                â”‚  - Hunter x1                  â”‚
â”‚ Frank     human      â”‚ â”‚            ç›®æ¨™       â”‚                â”‚  - Guard x1                   â”‚
â”‚           âœ“          â”‚ â”‚ [00:02:31] â° éšæ®µï¼šç™½â”‚                â”‚  - Villager x3                â”‚
â”‚ Grace     claude     â”‚ â”‚ [00:02:32] ğŸ’€ Iris æ­»äº¡â”‚               â”‚                               â”‚
â”‚           âœ“          â”‚ â”‚ [00:02:33] ğŸ’¬ Aliceï¼š  â”‚               â”‚ å¤œæ™šé€¾æ™‚ï¼š60s                 â”‚
â”‚ Henry     demo       â”‚ â”‚            "æˆ‘è¦ºå¾—Bob â”‚               â”‚ ç™½å¤©é€¾æ™‚ï¼š300s                â”‚
â”‚           âœ“          â”‚ â”‚            è¡Œç‚ºå¯ç–‘"  â”‚               â”‚ æŠ•ç¥¨é€¾æ™‚ï¼š60s                 â”‚
â”‚ Iris      demo       â”‚ â”‚ [00:02:34] ğŸ’¬ Bobï¼š    â”‚               â”‚                               â”‚
â”‚           âœ—          â”‚ â”‚            "æˆ‘æ˜¯æ‘æ°‘ï¼â”‚               â”‚ éŒ¯èª¤ï¼š0                       â”‚
â”‚                      â”‚ â”‚            Alice åœ¨è½‰ â”‚               â”‚                               â”‚
â”‚                      â”‚ â”‚            ç§»ç„¦é»"    â”‚               â”‚ ä¾†æºï¼šYAML é…ç½®               â”‚
â”‚                      â”‚ â”‚ [00:02:35] ğŸ’¬ Charlie: â”‚               â”‚                               â”‚
â”‚                      â”‚ â”‚            "æ˜¨æ™šçš„æ­»äº¡â”‚               â”‚                               â”‚
â”‚                      â”‚ â”‚            æ¨¡å¼å¾ˆå¥‡æ€ª"â”‚               â”‚                               â”‚
â”‚                      â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯               â”‚                               â”‚
â”‚                      â”‚                                          â”‚                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é¢æ¿èªªæ˜

#### ç©å®¶é¢æ¿ï¼ˆå·¦å´ï¼‰

é¡¯ç¤ºæ‰€æœ‰ç©å®¶çš„è³‡è¨Šï¼š

- **åå­—**ï¼šç©å®¶é¡¯ç¤ºåç¨±
- **æ¨¡å‹**ï¼šä½¿ç”¨çš„ AI æ¨¡å‹æˆ– `human`/`demo`
- **ç‹€æ…‹æŒ‡ç¤ºå™¨**ï¼š
  - âœ“ï¼šå­˜æ´»
  - âœ—ï¼šæ­»äº¡
  - ğŸ›¡ï¸ï¼šè¢«å®ˆè¡›ä¿è­·
  - â¤ï¸ï¼šæˆ€äººé—œä¿‚
  - â˜ ï¸ï¼šè¢«å¥³å·«ä¸‹æ¯’
  - ğŸ”´ï¼šè¢«çƒé´‰æ¨™è¨˜

#### éŠæˆ²é¢æ¿ï¼ˆä¸­å¤®ä¸Šæ–¹ï¼‰

é¡¯ç¤ºç•¶å‰éŠæˆ²ç‹€æ…‹ï¼š

- **å›åˆèˆ‡éšæ®µ**ï¼š
  - ğŸŒ™ å¤œæ™šéšæ®µ
  - â˜€ï¸ ç™½å¤©è¨è«–éšæ®µ
  - ğŸ—³ï¸ æŠ•ç¥¨éšæ®µ
  - ğŸ éŠæˆ²çµæŸ
- **ç©å®¶çµ±è¨ˆ**ï¼šæŒ‰é™£ç‡Ÿçµ±è¨ˆå­˜æ´»ç©å®¶æ•¸
- **æŠ•ç¥¨è¨ˆæ•¸**ï¼ˆæŠ•ç¥¨éšæ®µï¼‰ï¼šé¡¯ç¤ºå„ç©å®¶å¾—ç¥¨æ•¸

#### å°è©±é¢æ¿ï¼ˆä¸­å¤®ä¸‹æ–¹ï¼‰

å¯æ²å‹•çš„äº‹ä»¶æ—¥èªŒï¼Œé¡¯ç¤ºéŠæˆ²ä¸­çš„æ‰€æœ‰äº‹ä»¶å’Œå°è©±ï¼š

- ğŸ’¬ **ç©å®¶ç™¼è¨€**ï¼šAI ç”Ÿæˆçš„è¨è«–ã€æŒ‡æ§ã€è¾¯è­·
- ğŸ® **éŠæˆ²äº‹ä»¶**ï¼šéŠæˆ²é–‹å§‹ã€éšæ®µåˆ‡æ›ç­‰
- â° **éšæ®µè®ŠåŒ–**ï¼šå¤œæ™šã€ç™½å¤©ã€æŠ•ç¥¨ç­‰
- ğŸ’€ **æ­»äº¡äº‹ä»¶**ï¼šç©å®¶æ­»äº¡é€šçŸ¥
- ğŸº **ç‹¼äººè¡Œå‹•**ï¼šç‹¼äººå¤œæ™šè¨è«–
- ğŸ”® **æŠ€èƒ½ä½¿ç”¨**ï¼šå„è§’è‰²æŠ€èƒ½çš„ä½¿ç”¨è¨˜éŒ„

äº‹ä»¶æ ¹æ“šé‡è¦æ€§é€²è¡Œé¡è‰²ç·¨ç¢¼ï¼Œä¾¿æ–¼å¿«é€Ÿè­˜åˆ¥é—œéµè³‡è¨Šã€‚

#### é™¤éŒ¯é¢æ¿ï¼ˆå³å´ï¼Œå¯é¸ï¼‰

æŒ‰ 'd' éµåˆ‡æ›é¡¯ç¤ºï¼ŒåŒ…å«ï¼š

- æœƒè©± ID
- é…ç½®æª”æ¡ˆä¾†æº
- ç©å®¶æ•¸é‡èˆ‡é¡å‹çµ±è¨ˆ
- è§’è‰²åˆ†é…
- æ™‚é–“é™åˆ¶è¨­å®š
- éŒ¯èª¤è¿½è¹¤

### TUI æ§åˆ¶

- **q**ï¼šé€€å‡ºéŠæˆ²
- **d**ï¼šåˆ‡æ›é™¤éŒ¯é¢æ¿é¡¯ç¤º/éš±è—
- **n**ï¼šæ‰‹å‹•é€²å…¥ä¸‹ä¸€æ­¥ï¼ˆé™¤éŒ¯ç”¨ï¼‰
- **æ»‘é¼ æ»¾è¼ª**ï¼šæ²å‹•å°è©±æ­·å²
- **æ–¹å‘éµ**ï¼šåœ¨å¯èšç„¦å…ƒä»¶é–“ç§»å‹•

### Console æ¨¡å¼

å¦‚æœä¸æƒ³ä½¿ç”¨ TUIï¼Œå¯ä»¥åœ¨é…ç½®æª”æ¡ˆä¸­è¨­å®š `game_type: console`ï¼ŒéŠæˆ²å°‡ä»¥ç´”æ–‡å­—æ—¥èªŒå½¢å¼è¼¸å‡ºåˆ°çµ‚ç«¯ã€‚

## éŠæˆ²æµç¨‹

1. **æº–å‚™éšæ®µ**ï¼šç©å®¶è¢«éš¨æ©Ÿåˆ†é…è§’è‰²
2. **å¤œæ™šéšæ®µ**ï¼šå…·æœ‰å¤œæ™šèƒ½åŠ›çš„è§’è‰²æŒ‰å„ªå…ˆé †åºè¡Œå‹•
3. **ç™½å¤©è¨è«–**ï¼šç©å®¶è¨è«–ä¸¦åˆ†äº«è³‡è¨Š
4. **ç™½å¤©æŠ•ç¥¨**ï¼šç©å®¶æŠ•ç¥¨æ·˜æ±°å«Œç–‘äºº
5. **æª¢æŸ¥å‹åˆ©**ï¼šéŠæˆ²æª¢æŸ¥æ˜¯å¦æœ‰é™£ç‡Ÿç²å‹
6. é‡è¤‡æ­¥é©Ÿ 2-5 ç›´åˆ°æ»¿è¶³å‹åˆ©æ¢ä»¶

## å‹åˆ©æ¢ä»¶

éŠæˆ²æœƒåœ¨æ¯å€‹éšæ®µçµæŸå¾Œæª¢æŸ¥å‹åˆ©æ¢ä»¶ï¼š

- **æ‘æ°‘é™£ç‡Ÿç²å‹**ï¼šæ‰€æœ‰ç‹¼äººè¢«æ·˜æ±°
- **ç‹¼äººé™£ç‡Ÿç²å‹**ï¼šç‹¼äººæ•¸é‡ â‰¥ æ‘æ°‘æ•¸é‡
- **æˆ€äººç²å‹**ï¼šåªå‰©ä¸‹å…©å€‹æˆ€äººå­˜æ´»ï¼ˆæˆ€äººå‹åˆ©å„ªå…ˆæ–¼é™£ç‡Ÿå‹åˆ©ï¼‰

## é–‹ç™¼

### é–‹ç™¼ç’°å¢ƒè¨­å®š

```bash
# è¤‡è£½å°ˆæ¡ˆ
git clone https://github.com/Mai0313/LLMWereWolf.git
cd LLMWereWolf

# å®‰è£æ‰€æœ‰ä¾è³´ï¼ˆåŒ…å«é–‹ç™¼å’Œæ¸¬è©¦ä¾è³´ï¼‰
uv sync --all-groups

# æˆ–é¸æ“‡æ€§å®‰è£
uv sync                     # åƒ…åŸºç¤ä¾è³´
uv sync --group dev         # é–‹ç™¼ä¾è³´
uv sync --group test        # æ¸¬è©¦ä¾è³´
uv sync --group llm-all     # æ‰€æœ‰ LLM æä¾›å•†ä¾è³´
```

### åŸ·è¡Œæ¸¬è©¦

```bash
# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
uv run pytest

# åŸ·è¡Œä¸¦é¡¯ç¤ºè¦†è“‹ç‡
uv run pytest --cov=src --cov-report=term-missing

# åŸ·è¡Œç‰¹å®šæ¸¬è©¦æª”æ¡ˆ
uv run pytest tests/core/test_roles.py -v

# åŸ·è¡Œç‰¹å®šæ¸¬è©¦å‡½æ•¸
uv run pytest tests/core/test_roles.py::test_werewolf_role -v

# å¹³è¡ŒåŸ·è¡Œæ¸¬è©¦ï¼ˆæ›´å¿«ï¼‰
uv run pytest -n auto
```

### ç¨‹å¼ç¢¼å“è³ª

```bash
# åŸ·è¡Œ Ruff linter æª¢æŸ¥
uv run ruff check src/

# è‡ªå‹•ä¿®å¾©å¯ä¿®å¾©çš„å•é¡Œ
uv run ruff check --fix src/

# æ ¼å¼åŒ–ç¨‹å¼ç¢¼
uv run ruff format src/

# æª¢æŸ¥é¡å‹ï¼ˆè‹¥æœ‰è¨­å®š mypyï¼‰
uv run mypy src/
```

### ä½¿ç”¨ Pre-commit

å°ˆæ¡ˆåŒ…å« pre-commit è¨­å®šï¼Œè‡ªå‹•åœ¨æäº¤å‰æª¢æŸ¥ç¨‹å¼ç¢¼å“è³ªï¼š

```bash
# å®‰è£ pre-commit hooks
uv run pre-commit install

# æ‰‹å‹•åŸ·è¡Œæ‰€æœ‰ hooks
uv run pre-commit run --all-files
```

### ä½¿ç”¨ Makefile

å°ˆæ¡ˆæä¾› Makefile ç°¡åŒ–å¸¸è¦‹æ“ä½œï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make help

# æ¸…ç†è‡ªå‹•ç”Ÿæˆçš„æª”æ¡ˆ
make clean

# åŸ·è¡Œç¨‹å¼ç¢¼æ ¼å¼åŒ–ï¼ˆpre-commitï¼‰
make format

# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
make test

# ç”Ÿæˆæ–‡ä»¶
make gen-docs
```

## å°ˆæ¡ˆæ¶æ§‹

å°ˆæ¡ˆæ¡ç”¨æ¨¡çµ„åŒ–æ¶æ§‹ï¼Œå„æ¨¡çµ„è·è²¬æ¸…æ™°ï¼š

```
src/llm_werewolf/
â”œâ”€â”€ cli.py                 # å‘½ä»¤åˆ—å…¥å£
â”œâ”€â”€ ai/                    # ä»£ç†ç³»çµ±
â”‚   â”œâ”€â”€ agents.py         # LLM/Human/Demo ä»£ç†å¯¦ä½œ
â”‚   â””â”€â”€ message.py        # è¨Šæ¯è™•ç†
â”œâ”€â”€ config/               # é…ç½®ç³»çµ±
â”‚   â”œâ”€â”€ game_config.py    # éŠæˆ²é…ç½®æ¨¡å‹
â”‚   â””â”€â”€ role_presets.py   # è§’è‰²é è¨­é…ç½®
â”œâ”€â”€ core/                 # æ ¸å¿ƒéŠæˆ²é‚è¼¯
â”‚   â”œâ”€â”€ game_engine.py    # éŠæˆ²å¼•æ“
â”‚   â”œâ”€â”€ game_state.py     # éŠæˆ²ç‹€æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ player.py         # ç©å®¶é¡
â”‚   â”œâ”€â”€ actions.py        # å‹•ä½œç³»çµ±
â”‚   â”œâ”€â”€ events.py         # äº‹ä»¶ç³»çµ±
â”‚   â”œâ”€â”€ victory.py        # å‹åˆ©æ¢ä»¶æª¢æŸ¥
â”‚   â””â”€â”€ roles/            # è§’è‰²å¯¦ä½œ
â”‚       â”œâ”€â”€ base.py       # è§’è‰²åŸºé¡
â”‚       â”œâ”€â”€ werewolf.py   # ç‹¼äººé™£ç‡Ÿè§’è‰²
â”‚       â”œâ”€â”€ villager.py   # æ‘æ°‘é™£ç‡Ÿè§’è‰²
â”‚       â””â”€â”€ neutral.py    # ä¸­ç«‹è§’è‰²
â”œâ”€â”€ ui/                   # ä½¿ç”¨è€…ä»‹é¢
â”‚   â”œâ”€â”€ tui_app.py        # TUI æ‡‰ç”¨ç¨‹å¼
â”‚   â”œâ”€â”€ styles.py         # TUI æ¨£å¼
â”‚   â””â”€â”€ components/       # TUI å…ƒä»¶
â”‚       â”œâ”€â”€ player_panel.py
â”‚       â”œâ”€â”€ game_panel.py
â”‚       â”œâ”€â”€ chat_panel.py
â”‚       â””â”€â”€ debug_panel.py
â””â”€â”€ utils/                # å·¥å…·å‡½æ•¸
    â””â”€â”€ validator.py      # é©—è­‰å·¥å…·
```

### æ¨¡çµ„èªªæ˜

- **cli.py**ï¼šå‘½ä»¤åˆ—ä»‹é¢ï¼Œè² è²¬è¼‰å…¥é…ç½®ä¸¦å•Ÿå‹•éŠæˆ²
- **ai/**ï¼šä»£ç†ç³»çµ±ï¼Œå¯¦ä½œå„ç¨® AI ä»£ç†å’ŒçœŸäººç©å®¶ä»‹é¢
- **config/**ï¼šé…ç½®ç³»çµ±ï¼ŒåŒ…å«éŠæˆ²åƒæ•¸å’Œè§’è‰²é è¨­
- **core/**ï¼šéŠæˆ²æ ¸å¿ƒé‚è¼¯ï¼ŒåŒ…å«è§’è‰²ã€ç©å®¶ã€éŠæˆ²ç‹€æ…‹ã€å‹•ä½œå’Œäº‹ä»¶ç³»çµ±
- **ui/**ï¼šçµ‚ç«¯ä½¿ç”¨è€…ä»‹é¢ï¼ŒåŸºæ–¼ Textual æ¡†æ¶
- **utils/**ï¼šé€šç”¨å·¥å…·å‡½æ•¸

## ç³»çµ±éœ€æ±‚

- **Python**ï¼š3.10 æˆ–æ›´é«˜ç‰ˆæœ¬
- **ä½œæ¥­ç³»çµ±**ï¼šLinuxã€macOSã€Windows
- **çµ‚ç«¯**ï¼šæ”¯æ´ ANSI é¡è‰²å’Œ Unicode çš„ç¾ä»£çµ‚ç«¯ï¼ˆç”¨æ–¼ TUIï¼‰

### ä¸»è¦ä¾è³´

- **pydantic** (â‰¥2.12.3)ï¼šè³‡æ–™é©—è­‰å’Œè¨­å®šç®¡ç†
- **textual** (â‰¥6.3.0)ï¼šTUI æ¡†æ¶
- **rich** (â‰¥14.2.0)ï¼šçµ‚ç«¯æ ¼å¼åŒ–
- **openai** (â‰¥2.5.0)ï¼šOpenAI API å®¢æˆ¶ç«¯ï¼ˆç”¨æ–¼ LLM æ•´åˆï¼‰
- **python-dotenv** (â‰¥1.1.1)ï¼šç’°å¢ƒè®Šæ•¸ç®¡ç†
- **pyyaml** (â‰¥6.0.3)ï¼šYAML é…ç½®æª”æ¡ˆè§£æ
- **fire** (â‰¥0.7.1)ï¼šå‘½ä»¤åˆ—ä»‹é¢
- **logfire** (â‰¥4.13.2)ï¼šçµæ§‹åŒ–æ—¥èªŒè¨˜éŒ„

## å¸¸è¦‹å•é¡Œ

### å¦‚ä½•æ–°å¢æ›´å¤šç©å®¶ï¼Ÿ

ç·¨è¼¯æ‚¨çš„ YAML é…ç½®æª”æ¡ˆï¼Œèª¿æ•´ `preset` ä»¥åŒ¹é…ç©å®¶æ•¸é‡ï¼Œä¸¦åœ¨ `players` åˆ—è¡¨ä¸­æ–°å¢ç©å®¶é…ç½®ã€‚è¨˜å¾—ç©å®¶æ•¸é‡å¿…é ˆèˆ‡ preset çš„ `num_players` ä¸€è‡´ã€‚

### å¯ä»¥æ··åˆä¸åŒçš„ LLM æ¨¡å‹å—ï¼Ÿ

å¯ä»¥ï¼æ‚¨å¯ä»¥åœ¨åŒä¸€å ´éŠæˆ²ä¸­ä½¿ç”¨ä¸åŒçš„ LLM æä¾›å•†å’Œæ¨¡å‹ï¼Œä¾‹å¦‚åŒæ™‚ä½¿ç”¨ GPT-4ã€Claude å’Œæœ¬åœ° Llama æ¨¡å‹ã€‚

### å¦‚ä½•è®“çœŸäººç©å®¶åƒèˆ‡éŠæˆ²ï¼Ÿ

åœ¨ YAML é…ç½®ä¸­ï¼Œå°‡æŸå€‹ç©å®¶çš„ `model` è¨­å®šç‚º `human`ã€‚éŠæˆ²é€²è¡Œæ™‚ï¼Œè©²ç©å®¶éœ€è¦é€éçµ‚ç«¯è¼¸å…¥ä¾†å›æ‡‰ã€‚

### æœ¬åœ°æ¨¡å‹ï¼ˆOllamaï¼‰å¦‚ä½•è¨­å®šï¼Ÿ

ç¢ºä¿ Ollama æ­£åœ¨åŸ·è¡Œï¼Œç„¶å¾Œåœ¨ YAML ä¸­è¨­å®šï¼š

```yaml
  - name: Ollama ç©å®¶
    model: llama3
    base_url: http://localhost:11434/v1
```

ä¸éœ€è¦è¨­å®š `api_key_env`ã€‚

### éŠæˆ²å¤ªå¿«æˆ–å¤ªæ…¢æ€éº¼è¾¦ï¼Ÿ

æ‚¨å¯ä»¥è‡ªè¨‚ `GameConfig` ä¾†èª¿æ•´å„éšæ®µçš„æ™‚é–“é™åˆ¶ï¼š

```python
from llm_werewolf.config import GameConfig

config = GameConfig(
    num_players=9,
    role_names=[...],
    night_timeout=90,  # å¤œæ™šéšæ®µ 90 ç§’
    day_timeout=600,  # ç™½å¤©è¨è«– 600 ç§’
    vote_timeout=90,  # æŠ•ç¥¨éšæ®µ 90 ç§’
)
```

### å¦‚ä½•è‡ªè¨‚è§’è‰²çµ„åˆï¼Ÿ

å»ºç«‹è‡ªè¨‚çš„ `GameConfig`ï¼ŒæŒ‡å®šæ‚¨æƒ³è¦çš„è§’è‰²ï¼š

```python
from llm_werewolf.config import GameConfig

config = GameConfig(
    num_players=10,
    role_names=[
        "Werewolf",
        "AlphaWolf",
        "WhiteWolf",
        "Seer",
        "Witch",
        "Hunter",
        "Guard",
        "Villager",
        "Villager",
        "Villager",
    ],
)
```

## æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ [MIT License](LICENSE) æˆæ¬Šã€‚

## è²¢ç»

æ­¡è¿è²¢ç»ï¼æ‚¨å¯ä»¥é€éä»¥ä¸‹æ–¹å¼åƒèˆ‡ï¼š

1. **å›å ±å•é¡Œ**ï¼šåœ¨ [Issues](https://github.com/Mai0313/LLMWereWolf/issues) é é¢å›å ± bug æˆ–æå‡ºåŠŸèƒ½å»ºè­°
2. **æäº¤ Pull Request**ï¼šä¿®å¾© bug æˆ–æ–°å¢åŠŸèƒ½
3. **æ”¹é€²æ–‡ä»¶**ï¼šå¹«åŠ©æ”¹å–„ README å’Œç¨‹å¼ç¢¼è¨»è§£
4. **åˆ†äº«åé¥‹**ï¼šå‘Šè¨´æˆ‘å€‘æ‚¨çš„ä½¿ç”¨é«”é©—

### è²¢ç»æµç¨‹

1. Fork æœ¬å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤è®Šæ›´ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. é–‹å•Ÿ Pull Request

è«‹ç¢ºä¿æ‚¨çš„ç¨‹å¼ç¢¼ï¼š

- éµå¾ªå°ˆæ¡ˆçš„ç¨‹å¼ç¢¼é¢¨æ ¼ï¼ˆä½¿ç”¨ Ruffï¼‰
- åŒ…å«é©ç•¶çš„æ¸¬è©¦
- æ›´æ–°ç›¸é—œæ–‡ä»¶

## è‡´è¬

æœ¬å°ˆæ¡ˆä½¿ç”¨ä»¥ä¸‹å„ªç§€çš„é–‹æºå·¥å…·æ§‹å»ºï¼š

- [Pydantic](https://pydantic.dev/) - è³‡æ–™é©—è­‰å’Œè¨­å®šç®¡ç†
- [Textual](https://textual.textualize.io/) - ç¾ä»£åŒ– TUI æ¡†æ¶
- [Rich](https://rich.readthedocs.io/) - ç²¾ç¾çš„çµ‚ç«¯è¼¸å‡º
- [OpenAI Python SDK](https://github.com/openai/openai-python) - LLM API å®¢æˆ¶ç«¯
- [uv](https://docs.astral.sh/uv/) - å¿«é€Ÿçš„ Python å¥—ä»¶ç®¡ç†å™¨
- [Ruff](https://github.com/astral-sh/ruff) - æ¥µé€Ÿ Python linter

## ç›¸é—œé€£çµ

- [å°ˆæ¡ˆé¦–é ](https://github.com/Mai0313/LLMWereWolf)
- [å•é¡Œè¿½è¹¤](https://github.com/Mai0313/LLMWereWolf/issues)
- [æ–‡ä»¶](https://mai0313.github.io/llm_werewolf) (é–‹ç™¼ä¸­)

## æ›´æ–°æ—¥èªŒ

è«‹åƒé–± [Releases](https://github.com/Mai0313/LLMWereWolf/releases) é é¢æŸ¥çœ‹ç‰ˆæœ¬æ›´æ–°è¨˜éŒ„ã€‚
