## 檢查專案代碼邏輯

修改確認範圍:

- 狼人殺遊戲邏輯是否正確
- 代碼是否需要優化, 例如是否有充分利用 `pydantic` 來實現更好的結構化和驗證
- 遊戲邏輯是否與實際 進行遊戲的 代碼充分切開
  - 遊戲規則 和 遊戲邏輯應該放在 `./src/llm_werewolf/core` 裡面, 遊戲實際運行則是放在 `./src/llm_werewolf/cli.py` 和 `./src/llm_werewolf/tui.py`
- 狼人殺規則完整性, 部分特殊角色能力未實現
- AI 整合, 夜間行動應調用 AI 而非隨機選擇
- 重構複雜函數 - 將 run_voting_phase 拆分為更小的函數
- 狼人協商機制 - 實現多隻狼人投票決定殺人目標
- 所有 import 都應該放在檔案最上方 而不是放在 function 內部進行 import
- 保存/加載遊戲 - 使用 Pydantic 序列化 GameState

當任務完成時 請務必記得透過 `uv run pre-commit run -a` 來確保代碼質量

## 更新規則

確認 `rule.md` 裡面的所有腳色都是和規則是否與實際 `./src/llm_werewolf/core` 一致
如果有未實作的角色 與 規則 請記錄到 `rule.md`, 後續再完成

## 新增警長規則

## 新增奇蹟商人

## 新增狼王, 狼美人 和 狼人自爆規則

狼王規則要特別注意一種情況 例如 夜晚可能在某些情況下可以與狼人們討論戰略, 有時候只有狼王能發言 有時候好像狼人也能參與討論
這部分以你知道的規則為主 因為我的不一定是正確的

我記得有一個規則是狼人可以自爆, 狼王也能自爆
但差別在狼王自爆可以帶走一名玩家
自爆後直接進入黑夜

狼美人 基本上就是多了魅惑技能
